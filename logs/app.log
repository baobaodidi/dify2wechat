2025-06-14 00:58:26 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 00:58:26 | INFO     | src.app:create_app:109 - FastAPI应用创建成功
2025-06-14 00:58:26 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 00:59:54 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 00:59:54 | INFO     | src.app:create_app:109 - FastAPI应用创建成功
2025-06-14 00:59:54 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 09:40:38 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 09:40:38 | INFO     | src.app:create_app:109 - FastAPI应用创建成功
2025-06-14 09:40:38 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 09:41:02 | ERROR    | src.wechat_official:handle_webhook:147 - 微信服务器验证失败
2025-06-14 09:41:02 | ERROR    | src.wechat_official:handle_webhook:176 - Webhook处理异常: 403: 验证失败
2025-06-14 09:41:02 | ERROR    | src.app:wechat_official_webhook:65 - 微信公众号Webhook处理失败: 500: 内部服务器错误
2025-06-14 09:41:27 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 09:41:27 | INFO     | src.app:create_app:109 - FastAPI应用创建成功
2025-06-14 09:41:27 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 09:42:52 | INFO     | src.wechat_official:handle_webhook:144 - 微信服务器验证成功
2025-06-14 09:43:12 | INFO     | src.wechat_official:handle_webhook:144 - 微信服务器验证成功
2025-06-14 09:45:21 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 09:45:21 | INFO     | src.app:create_app:109 - FastAPI应用创建成功
2025-06-14 09:45:21 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 09:45:38 | INFO     | src.wechat_official:handle_webhook:144 - 微信服务器验证成功
2025-06-14 09:47:19 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 09:47:19 | INFO     | src.app:create_app:109 - FastAPI应用创建成功
2025-06-14 09:47:19 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 09:47:36 | INFO     | src.wechat_official:handle_webhook:144 - 微信服务器验证成功
2025-06-14 09:47:55 | INFO     | src.wechat_official:handle_webhook:144 - 微信服务器验证成功
2025-06-14 09:50:30 | INFO     | src.wechat_official:handle_webhook:169 - 收到微信消息:  from 
2025-06-14 09:50:38 | INFO     | src.wechat_official:handle_webhook:169 - 收到微信消息:  from 
2025-06-14 09:53:43 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 09:53:43 | INFO     | src.app:create_app:109 - FastAPI应用创建成功
2025-06-14 09:53:43 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 09:54:55 | INFO     | src.wechat_official:handle_webhook:176 - 收到POST请求，加密类型: aes
2025-06-14 09:54:55 | INFO     | src.wechat_official:handle_webhook:186 - 消息解密成功
2025-06-14 09:54:55 | INFO     | src.wechat_official:handle_webhook:208 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:54:55 | INFO     | src.wechat_official:handle_message:83 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:54:55 | INFO     | src.wechat_official:handle_message:99 - 收到消息内容: 你好
2025-06-14 09:54:59 | INFO     | src.wechat_official:handle_webhook:176 - 收到POST请求，加密类型: aes
2025-06-14 09:54:59 | INFO     | src.wechat_official:handle_webhook:186 - 消息解密成功
2025-06-14 09:54:59 | INFO     | src.wechat_official:handle_webhook:208 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:54:59 | INFO     | src.wechat_official:handle_message:83 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:54:59 | INFO     | src.wechat_official:handle_message:99 - 收到消息内容: 你好
2025-06-14 09:55:03 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:55:03 | INFO     | src.wechat_official:handle_message:135 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 你好！很高兴认识你。作为一名AI规划师，我对技术充满热情，尤其是在AI领域。如果你对AI、数字化转型...
2025-06-14 09:55:03 | INFO     | src.wechat_official:handle_webhook:217 - 回复消息加密成功
2025-06-14 09:55:04 | INFO     | src.wechat_official:handle_webhook:176 - 收到POST请求，加密类型: aes
2025-06-14 09:55:04 | INFO     | src.wechat_official:handle_webhook:186 - 消息解密成功
2025-06-14 09:55:04 | INFO     | src.wechat_official:handle_webhook:208 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:55:04 | INFO     | src.wechat_official:handle_message:83 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:55:04 | INFO     | src.wechat_official:handle_message:99 - 收到消息内容: 你好
2025-06-14 09:55:06 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:55:06 | INFO     | src.wechat_official:handle_message:135 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 你好！很高兴认识你，有什么可以帮你的吗？...
2025-06-14 09:55:06 | INFO     | src.wechat_official:handle_webhook:217 - 回复消息加密成功
2025-06-14 09:55:10 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:55:10 | INFO     | src.wechat_official:handle_message:135 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 你好！很高兴和你交流。作为一名深耕技术领域多年的AI从业者，我一直保持着对前沿科技的热情。最近正专注...
2025-06-14 09:55:10 | INFO     | src.wechat_official:handle_webhook:217 - 回复消息加密成功
2025-06-14 09:56:08 | INFO     | src.wechat_official:handle_webhook:176 - 收到POST请求，加密类型: aes
2025-06-14 09:56:08 | INFO     | src.wechat_official:handle_webhook:186 - 消息解密成功
2025-06-14 09:56:08 | INFO     | src.wechat_official:handle_webhook:208 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:56:08 | INFO     | src.wechat_official:handle_message:83 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:56:08 | INFO     | src.wechat_official:handle_message:99 - 收到消息内容: 你是谁
2025-06-14 09:56:13 | INFO     | src.wechat_official:handle_webhook:176 - 收到POST请求，加密类型: aes
2025-06-14 09:56:13 | INFO     | src.wechat_official:handle_webhook:186 - 消息解密成功
2025-06-14 09:56:13 | INFO     | src.wechat_official:handle_webhook:208 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:56:13 | INFO     | src.wechat_official:handle_message:83 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:56:13 | INFO     | src.wechat_official:handle_message:99 - 收到消息内容: 你是谁
2025-06-14 09:56:14 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:56:14 | INFO     | src.wechat_official:handle_message:135 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 我是顾杰，一名AI规划师，目前专注于生成式AI平台的研发和AGI技术探索。从2008年进入IT行业以...
2025-06-14 09:56:14 | INFO     | src.wechat_official:handle_webhook:217 - 回复消息加密成功
2025-06-14 09:56:18 | INFO     | src.wechat_official:handle_webhook:176 - 收到POST请求，加密类型: aes
2025-06-14 09:56:18 | INFO     | src.wechat_official:handle_webhook:186 - 消息解密成功
2025-06-14 09:56:18 | INFO     | src.wechat_official:handle_webhook:208 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:56:18 | INFO     | src.wechat_official:handle_message:83 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:56:18 | INFO     | src.wechat_official:handle_message:99 - 收到消息内容: 你是谁
2025-06-14 09:56:21 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:56:21 | INFO     | src.wechat_official:handle_message:135 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 我是顾杰，目前在松下集团担任AI规划师，主要负责生成式AI平台的研发和人工智能技术战略规划工作。从2...
2025-06-14 09:56:21 | INFO     | src.wechat_official:handle_webhook:217 - 回复消息加密成功
2025-06-14 09:56:27 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 09:56:27 | INFO     | src.wechat_official:handle_message:135 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 我是顾杰（Gu Jie），松下集团的AI技术专家和数字化转型推动者。作为AI规划师，我目前主要聚焦生...
2025-06-14 09:56:27 | INFO     | src.wechat_official:handle_webhook:217 - 回复消息加密成功
2025-06-14 09:57:42 | INFO     | src.wechat_official:handle_webhook:176 - 收到POST请求，加密类型: 
2025-06-14 09:57:42 | ERROR    | src.wechat_official:handle_webhook:198 - 明文消息签名验证失败
2025-06-14 09:57:42 | ERROR    | src.wechat_official:handle_webhook:226 - Webhook处理异常: 403: 签名验证失败
2025-06-14 09:57:42 | ERROR    | src.app:wechat_official_webhook:65 - 微信公众号Webhook处理失败: 500: 内部服务器错误
2025-06-14 10:00:44 | INFO     | src.wechat_official:handle_webhook:157 - 微信服务器验证成功
2025-06-14 10:03:10 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 10:03:10 | INFO     | src.app:create_app:109 - FastAPI应用创建成功
2025-06-14 10:03:10 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 10:03:38 | INFO     | src.wechat_official:handle_webhook:176 - 收到POST请求，加密类型: 
2025-06-14 10:03:38 | INFO     | src.wechat_official:handle_webhook:208 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:03:38 | INFO     | src.wechat_official:handle_message:83 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:03:38 | INFO     | src.wechat_official:handle_message:99 - 收到消息内容: hello
2025-06-14 10:03:43 | INFO     | src.wechat_official:handle_webhook:176 - 收到POST请求，加密类型: 
2025-06-14 10:03:43 | INFO     | src.wechat_official:handle_webhook:208 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:03:43 | INFO     | src.wechat_official:handle_message:83 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:03:43 | INFO     | src.wechat_official:handle_message:99 - 收到消息内容: hello
2025-06-14 10:03:47 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:03:47 | INFO     | src.wechat_official:handle_message:135 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Hello! I'm Gu Jie, currently leading AI initiative...
2025-06-14 10:03:48 | INFO     | src.wechat_official:handle_webhook:176 - 收到POST请求，加密类型: 
2025-06-14 10:03:48 | INFO     | src.wechat_official:handle_webhook:208 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:03:48 | INFO     | src.wechat_official:handle_message:83 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:03:48 | INFO     | src.wechat_official:handle_message:99 - 收到消息内容: hello
2025-06-14 10:03:50 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:03:50 | INFO     | src.wechat_official:handle_message:135 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Hello! I'm Gu Jie, an AI architect currently leadi...
2025-06-14 10:03:56 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:03:56 | INFO     | src.wechat_official:handle_message:135 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Hello! I'm Gu Jie, an AI architect and digital tra...
2025-06-14 10:04:55 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 10:04:55 | INFO     | src.app:create_app:109 - FastAPI应用创建成功
2025-06-14 10:04:55 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 10:05:13 | INFO     | src.wechat_official:handle_webhook:176 - 收到POST请求，加密类型: 
2025-06-14 10:05:13 | INFO     | src.wechat_official:handle_webhook:197 - 明文模式消息，跳过签名验证
2025-06-14 10:05:13 | INFO     | src.wechat_official:handle_webhook:206 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:05:13 | INFO     | src.wechat_official:handle_message:83 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:05:13 | INFO     | src.wechat_official:handle_message:99 - 收到消息内容: hi
2025-06-14 10:05:18 | INFO     | src.wechat_official:handle_webhook:176 - 收到POST请求，加密类型: 
2025-06-14 10:05:18 | INFO     | src.wechat_official:handle_webhook:197 - 明文模式消息，跳过签名验证
2025-06-14 10:05:18 | INFO     | src.wechat_official:handle_webhook:206 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:05:18 | INFO     | src.wechat_official:handle_message:83 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:05:18 | INFO     | src.wechat_official:handle_message:99 - 收到消息内容: hi
2025-06-14 10:05:18 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:05:18 | INFO     | src.wechat_official:handle_message:135 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Hello! How can I assist you today? Let me know if ...
2025-06-14 10:05:22 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:05:22 | INFO     | src.wechat_official:handle_message:135 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Hello! How can I assist you today? Let me know if ...
2025-06-14 10:05:40 | INFO     | src.wechat_official:handle_webhook:176 - 收到POST请求，加密类型: 
2025-06-14 10:05:40 | INFO     | src.wechat_official:handle_webhook:197 - 明文模式消息，跳过签名验证
2025-06-14 10:05:40 | INFO     | src.wechat_official:handle_webhook:206 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:05:40 | INFO     | src.wechat_official:handle_message:83 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:05:40 | INFO     | src.wechat_official:handle_message:99 - 收到消息内容: 顾杰是谁？
2025-06-14 10:05:45 | INFO     | src.wechat_official:handle_webhook:176 - 收到POST请求，加密类型: 
2025-06-14 10:05:45 | INFO     | src.wechat_official:handle_webhook:197 - 明文模式消息，跳过签名验证
2025-06-14 10:05:45 | INFO     | src.wechat_official:handle_webhook:206 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:05:45 | INFO     | src.wechat_official:handle_message:83 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:05:45 | INFO     | src.wechat_official:handle_message:99 - 收到消息内容: 顾杰是谁？
2025-06-14 10:05:50 | INFO     | src.wechat_official:handle_webhook:176 - 收到POST请求，加密类型: 
2025-06-14 10:05:50 | INFO     | src.wechat_official:handle_webhook:197 - 明文模式消息，跳过签名验证
2025-06-14 10:05:50 | INFO     | src.wechat_official:handle_webhook:206 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:05:50 | INFO     | src.wechat_official:handle_message:83 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:05:50 | INFO     | src.wechat_official:handle_message:99 - 收到消息内容: 顾杰是谁？
2025-06-14 10:05:51 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:05:51 | INFO     | src.wechat_official:handle_message:135 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 顾杰（GuJie01）是一位AI规划师，2008年加入公司，从对日Offshore软件开发起步，后转...
2025-06-14 10:05:56 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:05:56 | INFO     | src.wechat_official:handle_message:135 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 顾杰（GuJie01）是松下公司的AI规划师，拥有丰富的技术背景和行业经验。他2008年加入公司，早...
2025-06-14 10:05:58 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:05:58 | INFO     | src.wechat_official:handle_message:135 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 顾杰（GuJie01）是松下公司的AI规划师，技术专家。他从2008年加入公司至今，经历了以下职业发...
2025-06-14 10:07:59 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 10:07:59 | INFO     | src.app:create_app:109 - FastAPI应用创建成功
2025-06-14 10:07:59 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 10:08:24 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:08:24 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:08:24 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:08:24 | INFO     | src.wechat_official:handle_message:87 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:08:24 | INFO     | src.wechat_official:handle_message:103 - 收到消息内容: 顾杰是谁？
2025-06-14 10:08:29 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:08:29 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:08:29 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:08:29 | INFO     | src.wechat_official:handle_webhook:215 - 消息已处理过，跳过: 25052071522938733
2025-06-14 10:08:32 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:08:32 | INFO     | src.wechat_official:handle_message:139 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 顾杰是一位AI规划师，2008年加入公司后从软件开发转向技术研发，擅长.NET、Java等后端技术，...
2025-06-14 10:08:32 | INFO     | src.wechat_official:handle_webhook:231 - 准备返回回复，长度: 398
2025-06-14 10:09:11 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:09:11 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:09:11 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:09:11 | INFO     | src.wechat_official:handle_message:87 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:09:11 | INFO     | src.wechat_official:handle_message:103 - 收到消息内容: hello
2025-06-14 10:09:16 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:09:16 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:09:16 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:09:16 | INFO     | src.wechat_official:handle_webhook:215 - 消息已处理过，跳过: 25052068809350331
2025-06-14 10:09:17 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:09:17 | INFO     | src.wechat_official:handle_message:139 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Hello! How can I assist you today?  

(Note: Based...
2025-06-14 10:09:17 | INFO     | src.wechat_official:handle_webhook:231 - 准备返回回复，长度: 384
2025-06-14 10:10:40 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 10:10:40 | INFO     | src.app:create_app:109 - FastAPI应用创建成功
2025-06-14 10:10:40 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 10:11:03 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:11:03 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:11:03 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:11:03 | INFO     | src.wechat_official:handle_message:87 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:11:03 | INFO     | src.wechat_official:handle_message:103 - 收到消息内容: good morning
2025-06-14 10:11:07 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:11:07 | INFO     | src.wechat_official:handle_message:139 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Good morning! How can I assist you today?...
2025-06-14 10:11:07 | INFO     | src.wechat_official:handle_webhook:231 - 准备返回回复，长度: 280
2025-06-14 10:12:25 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 10:12:25 | INFO     | src.app:create_app:109 - FastAPI应用创建成功
2025-06-14 10:12:25 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 10:12:48 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:12:48 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:12:48 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:12:48 | INFO     | src.wechat_official:handle_message:87 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:12:48 | INFO     | src.wechat_official:handle_message:103 - 收到消息内容: 测试调试
2025-06-14 10:12:53 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:12:53 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:12:53 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:12:53 | INFO     | src.wechat_official:handle_webhook:215 - 消息已处理过，跳过: 25052075709459468
2025-06-14 10:13:02 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:13:02 | INFO     | src.wechat_official:handle_message:139 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 根据您提供的上下文，顾杰（GuJie01）作为AI规划师和技术专家，在软件开发、基础设施和AI领域有...
2025-06-14 10:13:02 | INFO     | src.wechat_official:handle_webhook:231 - 准备返回回复，长度: 627
2025-06-14 10:13:02 | INFO     | src.wechat_official:handle_webhook:232 - 回复XML内容: <xml>
<ToUserName><![CDATA[gh_581b6239f6e9]]></ToUserName>
<FromUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></FromUserName>
<CreateTime>1749867182</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[根据您提供的上下文，顾杰（GuJie01）作为AI规划师和技术专家，在软件开发、基础设施和AI领域有丰富经验。若您提到的"测试调试"是指技术开发相关的工作，他很可能具备以下相关能力：

1. 全生命周期经验：从对日Offshore开发到国内解决方案项目，涵盖.NET/Java等技术的开发与测试
2. DevOps实践：主导PABC基盘时积累的Infra/网络经验，包含持续集成和自动化测试
3. AI系统调试：成功构建生成式AI平台"坞酷"，必然涉及AI模型的测试验证环节

但需要您进一步说明：
- 您具体指哪种测试（单元测试/集成测试/AI模型测试等）？
- 涉及什么技术栈（.NET/Java/Python或其他）？
这样我可以给出更针对性的回答。当前上下文未提及其具体的测试方法论或工具链细节。

（回答保持技术中立性，未超出给定信息范围，同时引导用户补充关键信息）]]></Content>
</xml>
2025-06-14 10:13:02 | INFO     | src.wechat_official:handle_webhook:246 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[gh_581b6239f6e9]]></ToUserName>
<FromUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></FromUserName>
<CreateTime>1749867182</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[根据您提供的上下文，顾杰（GuJie01）作为AI规划师和技术专家，在软件开发、基础设施和AI领域有丰富经验。若您提到的"测试调试"是指技术开发相关的工作，他很可能具备以下相关能力：

1. 全生命周期经验：从对日Offshore开发到国内解决方案项目，涵盖.NET/Java等技术的开发与测试
2. DevOps实践：主导PABC基盘时积累的Infra/网络经验，包含持续集成和自动化测试
3. AI系统调试：成功构建生成式AI平台"坞酷"，必然涉及AI模型的测试验证环节

但需要您进一步说明：
- 您具体指哪种测试（单元测试/集成测试/AI模型测试等）？
- 涉及什么技术栈（.NET/Java/Python或其他）？
这样我可以给出更针对性的回答。当前上下文未提及其具体的测试方法论或工具链细节。

（回答保持技术中立性，未超出给定信息范围，同时引导用户补充关键信息）]]></Content>
</xml>
2025-06-14 10:15:19 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:15:19 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:15:19 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:15:19 | INFO     | src.wechat_official:handle_message:87 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:15:19 | INFO     | src.wechat_official:handle_message:103 - 收到消息内容: hello
2025-06-14 10:15:24 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:15:24 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:15:24 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:15:24 | INFO     | src.wechat_official:handle_webhook:215 - 消息已处理过，跳过: 25052076635701856
2025-06-14 10:15:25 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:15:25 | INFO     | src.wechat_official:handle_message:139 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Hello! 👋  

How can I assist you today? Whether it...
2025-06-14 10:15:25 | INFO     | src.wechat_official:handle_webhook:231 - 准备返回回复，长度: 539
2025-06-14 10:15:25 | INFO     | src.wechat_official:handle_webhook:232 - 回复XML内容: <xml>
<ToUserName><![CDATA[gh_581b6239f6e9]]></ToUserName>
<FromUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></FromUserName>
<CreateTime>1749867325</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hello! 👋  

How can I assist you today? Whether it's about AI, software development, infrastructure, or anything else, feel free to ask! 😊  

(Note: Since you didn’t specify a question, I kept the response friendly and open-ended while staying aligned with the technical context of Gu Jie’s profile.)]]></Content>
</xml>
2025-06-14 10:15:25 | INFO     | src.wechat_official:handle_webhook:246 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[gh_581b6239f6e9]]></ToUserName>
<FromUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></FromUserName>
<CreateTime>1749867325</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hello! 👋  

How can I assist you today? Whether it's about AI, software development, infrastructure, or anything else, feel free to ask! 😊  

(Note: Since you didn’t specify a question, I kept the response friendly and open-ended while staying aligned with the technical context of Gu Jie’s profile.)]]></Content>
</xml>
2025-06-14 10:17:22 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 10:17:22 | INFO     | src.app:create_app:109 - FastAPI应用创建成功
2025-06-14 10:17:22 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 10:17:48 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:17:48 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:17:48 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:17:48 | INFO     | src.wechat_official:handle_message:87 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:17:48 | INFO     | src.wechat_official:handle_message:103 - 收到消息内容: 顾
2025-06-14 10:17:53 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:17:53 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:17:53 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:17:53 | INFO     | src.wechat_official:handle_webhook:215 - 消息已处理过，跳过: 25052078165173807
2025-06-14 10:18:00 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:18:00 | INFO     | src.wechat_official:handle_message:139 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 您好！您提到的"顾"是指顾杰先生吗？他是我们公司一位资深的AI规划师和技术专家。顾杰先生自2008年...
2025-06-14 10:18:00 | INFO     | src.wechat_official:handle_webhook:231 - 准备返回回复，长度: 533
2025-06-14 10:18:00 | INFO     | src.wechat_official:handle_webhook:232 - 回复XML内容: <xml>
<ToUserName><![CDATA[gh_581b6239f6e9]]></ToUserName>
<FromUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></FromUserName>
<CreateTime>1749867480</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[您好！您提到的"顾"是指顾杰先生吗？他是我们公司一位资深的AI规划师和技术专家。顾杰先生自2008年加入公司以来，先后从事过对日软件开发、国内解决方案项目开发等工作，精通.NET、Java等后端技术。之后他转入研发部，主导了PABC基盘的构建和运维工作，积累了丰富的全栈技术经验。

2023年起，顾杰先生全力投入AI领域，成功打造了松下首个生成式AI平台"坞酷"，为公司数字化转型做出了重要贡献。他是一位对技术充满热情的专业人士，尤其对AI技术有着敏锐的洞察力。他的座右铭是"因为相信，所以看见"，并坚信AGI(通用人工智能)将在有生之年实现。

需要了解更多关于顾杰先生的详细信息吗？]]></Content>
</xml>
2025-06-14 10:18:00 | INFO     | src.wechat_official:handle_webhook:248 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[gh_581b6239f6e9]]></ToUserName>
<FromUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></FromUserName>
<CreateTime>1749867480</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[您好！您提到的"顾"是指顾杰先生吗？他是我们公司一位资深的AI规划师和技术专家。顾杰先生自2008年加入公司以来，先后从事过对日软件开发、国内解决方案项目开发等工作，精通.NET、Java等后端技术。之后他转入研发部，主导了PABC基盘的构建和运维工作，积累了丰富的全栈技术经验。

2023年起，顾杰先生全力投入AI领域，成功打造了松下首个生成式AI平台"坞酷"，为公司数字化转型做出了重要贡献。他是一位对技术充满热情的专业人士，尤其对AI技术有着敏锐的洞察力。他的座右铭是"因为相信，所以看见"，并坚信AGI(通用人工智能)将在有生之年实现。

需要了解更多关于顾杰先生的详细信息吗？]]></Content>
</xml>
2025-06-14 10:18:00 | ERROR    | src.app:wechat_official_webhook:65 - 微信公众号Webhook处理失败: 'Response' object has no attribute 'encode'
2025-06-14 10:18:54 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 10:18:54 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 10:18:54 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 10:19:23 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:19:23 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:19:23 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:19:23 | INFO     | src.wechat_official:handle_message:87 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:19:23 | INFO     | src.wechat_official:handle_message:103 - 收到消息内容: 杰
2025-06-14 10:19:28 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:19:28 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:19:28 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:19:28 | INFO     | src.wechat_official:handle_webhook:215 - 消息已处理过，跳过: 25052079074209130
2025-06-14 10:19:34 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:19:34 | INFO     | src.wechat_official:handle_message:139 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 您好！您提到的"杰"应该是指顾杰先生吧？

顾杰先生是公司的AI规划师，2008年加入公司，拥有丰富...
2025-06-14 10:19:34 | INFO     | src.wechat_official:handle_webhook:231 - 准备返回回复，长度: 460
2025-06-14 10:19:34 | INFO     | src.wechat_official:handle_webhook:232 - 回复XML内容: <xml>
<ToUserName><![CDATA[gh_581b6239f6e9]]></ToUserName>
<FromUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></FromUserName>
<CreateTime>1749867574</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[您好！您提到的"杰"应该是指顾杰先生吧？

顾杰先生是公司的AI规划师，2008年加入公司，拥有丰富的技术背景：
- 早期从事对日Offshore软件开发
- 精通.NET、Java等后端技术
- 主导过PABC基盘的研发运维
- 2023年起专注AI领域，开发了松下首个生成式AI平台"坞酷"

他以"因为相信，所以看见"为人生信条，对AI技术充满热情，坚信AGI(人工通用智能)将在有生之年实现。

需要了解更多关于顾杰先生的具体信息吗？]]></Content>
</xml>
2025-06-14 10:19:34 | INFO     | src.wechat_official:handle_webhook:248 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[gh_581b6239f6e9]]></ToUserName>
<FromUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></FromUserName>
<CreateTime>1749867574</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[您好！您提到的"杰"应该是指顾杰先生吧？

顾杰先生是公司的AI规划师，2008年加入公司，拥有丰富的技术背景：
- 早期从事对日Offshore软件开发
- 精通.NET、Java等后端技术
- 主导过PABC基盘的研发运维
- 2023年起专注AI领域，开发了松下首个生成式AI平台"坞酷"

他以"因为相信，所以看见"为人生信条，对AI技术充满热情，坚信AGI(人工通用智能)将在有生之年实现。

需要了解更多关于顾杰先生的具体信息吗？]]></Content>
</xml>
2025-06-14 10:21:30 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:21:30 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:21:30 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:21:30 | INFO     | src.wechat_official:handle_message:87 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:21:30 | INFO     | src.wechat_official:handle_message:103 - 收到消息内容: hi
2025-06-14 10:21:35 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:21:35 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:21:35 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:21:35 | INFO     | src.wechat_official:handle_webhook:215 - 消息已处理过，跳过: 25052084091281513
2025-06-14 10:21:39 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:21:39 | INFO     | src.wechat_official:handle_message:139 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Hello! How can I assist you today?  

If you're as...
2025-06-14 10:21:39 | INFO     | src.wechat_official:handle_webhook:231 - 准备返回回复，长度: 549
2025-06-14 10:21:39 | INFO     | src.wechat_official:handle_webhook:232 - 回复XML内容: <xml>
<ToUserName><![CDATA[gh_581b6239f6e9]]></ToUserName>
<FromUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></FromUserName>
<CreateTime>1749867699</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hello! How can I assist you today?  

If you're asking about Gu Jie (顾杰), he is an AI Planner at the company with extensive experience in software development, infrastructure, and AI innovation. He led the creation of Panasonic's first generative AI platform, "Wuku."  

Let me know if you'd like more details!]]></Content>
</xml>
2025-06-14 10:21:39 | INFO     | src.wechat_official:handle_webhook:248 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[gh_581b6239f6e9]]></ToUserName>
<FromUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></FromUserName>
<CreateTime>1749867699</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hello! How can I assist you today?  

If you're asking about Gu Jie (顾杰), he is an AI Planner at the company with extensive experience in software development, infrastructure, and AI innovation. He led the creation of Panasonic's first generative AI platform, "Wuku."  

Let me know if you'd like more details!]]></Content>
</xml>
2025-06-14 10:23:46 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 10:23:46 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 10:23:46 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 10:26:57 | INFO     | src.wechat_official:handle_webhook:183 - 收到POST请求，加密类型: 
2025-06-14 10:26:57 | INFO     | src.wechat_official:handle_webhook:204 - 明文模式消息，跳过签名验证
2025-06-14 10:26:57 | INFO     | src.wechat_official:handle_webhook:213 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:26:57 | INFO     | src.wechat_official:handle_message:87 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:26:57 | INFO     | src.wechat_official:handle_message:103 - 收到消息内容: hi
2025-06-14 10:27:02 | INFO     | src.wechat_official:handle_webhook:183 - 收到POST请求，加密类型: 
2025-06-14 10:27:02 | INFO     | src.wechat_official:handle_webhook:204 - 明文模式消息，跳过签名验证
2025-06-14 10:27:02 | INFO     | src.wechat_official:handle_webhook:213 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:27:02 | INFO     | src.wechat_official:handle_webhook:218 - 消息已处理过，跳过: 25052085786832106
2025-06-14 10:27:04 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:27:04 | INFO     | src.wechat_official:handle_message:142 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 收到！...
2025-06-14 10:27:04 | INFO     | src.wechat_official:handle_webhook:234 - 准备返回回复，长度: 242
2025-06-14 10:27:04 | INFO     | src.wechat_official:handle_webhook:235 - 回复XML内容: <xml>
<ToUserName><![CDATA[gh_581b6239f6e9]]></ToUserName>
<FromUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></FromUserName>
<CreateTime>1749868024</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[收到！]]></Content>
</xml>
2025-06-14 10:27:04 | INFO     | src.wechat_official:handle_webhook:251 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[gh_581b6239f6e9]]></ToUserName>
<FromUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></FromUserName>
<CreateTime>1749868024</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[收到！]]></Content>
</xml>
2025-06-14 10:34:50 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 10:34:50 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 10:34:50 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 10:35:45 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:35:45 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:35:45 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:35:45 | INFO     | src.wechat_official:handle_message:87 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:35:45 | INFO     | src.wechat_official:handle_message:103 - 收到消息内容: 测试最终修复
2025-06-14 10:35:49 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:35:49 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:35:49 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:35:49 | INFO     | src.wechat_official:handle_webhook:215 - 消息已处理过，跳过: 25052093902745677
2025-06-14 10:35:53 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:35:53 | INFO     | src.wechat_official:handle_message:139 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 根据当前上下文，我没有看到任何关于“最终修复”的具体信息。如果您指的是顾杰参与的某个具体项目或技术修...
2025-06-14 10:35:53 | INFO     | src.wechat_official:handle_webhook:231 - 准备返回回复，长度: 361
2025-06-14 10:35:53 | INFO     | src.wechat_official:handle_webhook:232 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749868553</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[根据当前上下文，我没有看到任何关于“最终修复”的具体信息。如果您指的是顾杰参与的某个具体项目或技术修复，请您提供更多背景信息，我可以尝试帮助分析。 

（作为技术专家，顾杰在PABC基盘构筑和AI平台开发中积累了丰富经验，但未提及具体修复案例）]]></Content>
</xml>
2025-06-14 10:35:53 | INFO     | src.wechat_official:handle_webhook:248 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749868553</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[根据当前上下文，我没有看到任何关于“最终修复”的具体信息。如果您指的是顾杰参与的某个具体项目或技术修复，请您提供更多背景信息，我可以尝试帮助分析。 

（作为技术专家，顾杰在PABC基盘构筑和AI平台开发中积累了丰富经验，但未提及具体修复案例）]]></Content>
</xml>
2025-06-14 10:38:37 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 10:38:37 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 10:38:37 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 10:39:10 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:39:10 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:39:10 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:39:10 | INFO     | src.wechat_official:handle_message:87 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:39:10 | INFO     | src.wechat_official:handle_message:103 - 收到消息内容: hi
2025-06-14 10:39:14 | WARNING  | src.wechat_official:handle_webhook:240 - 消息处理超时，返回默认回复
2025-06-14 10:39:14 | INFO     | src.wechat_official:handle_webhook:248 - 准备返回回复，长度: 254
2025-06-14 10:39:14 | INFO     | src.wechat_official:handle_webhook:249 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749868754</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 10:39:14 | INFO     | src.wechat_official:handle_webhook:265 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749868754</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 10:40:38 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:40:38 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:40:38 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:40:38 | INFO     | src.wechat_official:handle_message:87 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:40:38 | INFO     | src.wechat_official:handle_message:103 - 收到消息内容: hello
2025-06-14 10:40:42 | WARNING  | src.wechat_official:handle_webhook:240 - 消息处理超时，返回默认回复
2025-06-14 10:40:42 | INFO     | src.wechat_official:handle_webhook:248 - 准备返回回复，长度: 254
2025-06-14 10:40:42 | INFO     | src.wechat_official:handle_webhook:249 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749868842</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 10:40:42 | INFO     | src.wechat_official:handle_webhook:265 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749868842</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 10:45:28 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 10:45:28 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 10:45:28 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 10:47:47 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 10:47:47 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 10:47:47 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 10:53:12 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 10:53:12 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 10:53:12 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 10:53:54 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:53:54 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:53:54 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:53:54 | INFO     | src.wechat_official:handle_message:87 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:53:54 | INFO     | src.wechat_official:handle_message:103 - 收到消息内容: hi
2025-06-14 10:53:58 | INFO     | src.dify_client:chat_completion:69 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:53:58 | INFO     | src.wechat_official:handle_message:139 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Hello! How can I assist you today?...
2025-06-14 10:53:58 | INFO     | src.wechat_official:handle_webhook:248 - 准备返回回复，长度: 273
2025-06-14 10:53:58 | INFO     | src.wechat_official:handle_webhook:249 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749869638</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hello! How can I assist you today?]]></Content>
</xml>
2025-06-14 10:53:58 | INFO     | src.wechat_official:handle_webhook:265 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749869638</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hello! How can I assist you today?]]></Content>
</xml>
2025-06-14 10:54:14 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 10:54:14 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 10:54:14 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:54:14 | INFO     | src.wechat_official:handle_message:87 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 10:54:14 | INFO     | src.wechat_official:handle_message:103 - 收到消息内容: 你是谁？
2025-06-14 10:54:18 | WARNING  | src.wechat_official:handle_webhook:240 - 消息处理超时，返回默认回复
2025-06-14 10:54:18 | INFO     | src.wechat_official:handle_webhook:248 - 准备返回回复，长度: 254
2025-06-14 10:54:18 | INFO     | src.wechat_official:handle_webhook:249 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749869658</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 10:54:18 | INFO     | src.wechat_official:handle_webhook:265 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749869658</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 10:57:34 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 10:57:34 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 10:57:34 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 11:03:05 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 11:03:05 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 11:03:05 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 11:04:04 | INFO     | src.wechat_official:handle_webhook:180 - 收到POST请求，加密类型: 
2025-06-14 11:04:04 | INFO     | src.wechat_official:handle_webhook:201 - 明文模式消息，跳过签名验证
2025-06-14 11:04:04 | INFO     | src.wechat_official:handle_webhook:210 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 11:04:04 | INFO     | src.wechat_official:handle_message:87 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 11:04:04 | INFO     | src.wechat_official:handle_message:103 - 收到消息内容: hi
2025-06-14 11:04:08 | WARNING  | src.wechat_official:handle_webhook:240 - 消息处理超时，返回默认回复
2025-06-14 11:04:08 | INFO     | src.wechat_official:handle_webhook:248 - 准备返回回复，长度: 254
2025-06-14 11:04:08 | INFO     | src.wechat_official:handle_webhook:249 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749870248</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 11:04:08 | INFO     | src.wechat_official:handle_webhook:265 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749870248</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 11:17:21 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 11:17:21 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 11:17:21 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 11:18:23 | INFO     | src.wechat_official:handle_webhook:341 - 收到POST请求，加密类型: 
2025-06-14 11:18:23 | INFO     | src.wechat_official:handle_webhook:362 - 明文模式消息，跳过签名验证
2025-06-14 11:18:23 | INFO     | src.wechat_official:handle_webhook:371 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 11:18:23 | INFO     | src.wechat_official:handle_webhook:402 - 消息长度: 5, 超时设置: 5.0秒
2025-06-14 11:18:23 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 11:18:23 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hello
2025-06-14 11:18:23 | INFO     | src.wechat_official:handle_message:263 - 使用流式响应处理简单消息，长度: 5
2025-06-14 11:18:23 | ERROR    | src.dify_client:chat_completion_streaming:200 - Dify API调用失败: 500
2025-06-14 11:18:23 | INFO     | src.wechat_official:handle_message:300 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 抱歉，我暂时无法回复，请稍后再试。...
2025-06-14 11:18:23 | INFO     | src.wechat_official:handle_webhook:443 - 准备返回回复，长度: 256
2025-06-14 11:18:23 | INFO     | src.wechat_official:handle_webhook:444 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749871103</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[抱歉，我暂时无法回复，请稍后再试。]]></Content>
</xml>
2025-06-14 11:18:23 | INFO     | src.wechat_official:handle_webhook:460 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749871103</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[抱歉，我暂时无法回复，请稍后再试。]]></Content>
</xml>
2025-06-14 11:21:26 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 11:21:26 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 11:21:26 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 11:22:09 | INFO     | src.wechat_official:handle_webhook:341 - 收到POST请求，加密类型: 
2025-06-14 11:22:09 | INFO     | src.wechat_official:handle_webhook:362 - 明文模式消息，跳过签名验证
2025-06-14 11:22:09 | INFO     | src.wechat_official:handle_webhook:371 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 11:22:09 | INFO     | src.wechat_official:handle_webhook:402 - 消息长度: 2, 超时设置: 5.0秒
2025-06-14 11:22:09 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 11:22:09 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hi
2025-06-14 11:22:09 | INFO     | src.wechat_official:handle_message:263 - 使用流式响应处理简单消息，长度: 2
2025-06-14 11:22:14 | INFO     | src.dify_client:chat_completion_streaming:227 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 11:22:14 | INFO     | src.wechat_official:handle_message:300 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Hello! How can I assist you today?...
2025-06-14 11:22:14 | INFO     | src.wechat_official:handle_webhook:443 - 准备返回回复，长度: 273
2025-06-14 11:22:14 | INFO     | src.wechat_official:handle_webhook:444 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749871334</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hello! How can I assist you today?]]></Content>
</xml>
2025-06-14 11:22:14 | INFO     | src.wechat_official:handle_webhook:460 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749871334</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hello! How can I assist you today?]]></Content>
</xml>
2025-06-14 11:22:27 | INFO     | src.wechat_official:handle_webhook:341 - 收到POST请求，加密类型: 
2025-06-14 11:22:27 | INFO     | src.wechat_official:handle_webhook:362 - 明文模式消息，跳过签名验证
2025-06-14 11:22:27 | INFO     | src.wechat_official:handle_webhook:371 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 11:22:27 | INFO     | src.wechat_official:handle_webhook:402 - 消息长度: 5, 超时设置: 5.0秒
2025-06-14 11:22:27 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 11:22:27 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 顾杰是谁？
2025-06-14 11:22:27 | INFO     | src.wechat_official:handle_message:263 - 使用流式响应处理简单消息，长度: 5
2025-06-14 11:22:32 | WARNING  | src.wechat_official:handle_webhook:411 - 消息处理超时，启动异步处理
2025-06-14 11:22:32 | INFO     | src.wechat_official:handle_webhook:422 - ✅ 已启动异步处理任务，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 11:22:32 | INFO     | src.wechat_official:handle_webhook:443 - 准备返回回复，长度: 254
2025-06-14 11:22:32 | INFO     | src.wechat_official:handle_webhook:444 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749871352</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 11:22:32 | INFO     | src.wechat_official:handle_webhook:460 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749871352</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 11:22:32 | INFO     | src.wechat_official:async_process_message:107 - 🚀 开始异步处理消息，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 11:22:32 | INFO     | src.wechat_official:async_process_message:110 - 📝 异步处理消息内容: 顾杰是谁？...
2025-06-14 11:22:32 | INFO     | src.wechat_official:async_process_message:114 - 🔗 获取会话ID: 177586a6-c6e7-46b0-9352-b632993ca23f
2025-06-14 11:22:32 | INFO     | src.wechat_official:async_process_message:119 - ⏰ 设置Dify超时时间: 30秒
2025-06-14 11:22:32 | INFO     | src.wechat_official:async_process_message:121 - 📡 开始调用Dify API...
2025-06-14 11:22:32 | INFO     | src.wechat_official:handle_webhook:341 - 收到POST请求，加密类型: 
2025-06-14 11:22:32 | INFO     | src.wechat_official:handle_webhook:362 - 明文模式消息，跳过签名验证
2025-06-14 11:22:32 | INFO     | src.wechat_official:handle_webhook:371 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 11:22:32 | INFO     | src.wechat_official:handle_webhook:376 - 消息已处理过，跳过: 25052134447257447
2025-06-14 11:22:43 | INFO     | src.dify_client:chat_completion:71 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 11:22:43 | INFO     | src.wechat_official:async_process_message:127 - ✅ Dify API调用完成
2025-06-14 11:22:43 | INFO     | src.wechat_official:async_process_message:138 - 💾 保存会话ID: 177586a6-c6e7-46b0-9352-b632993ca23f
2025-06-14 11:22:43 | INFO     | src.wechat_official:async_process_message:142 - 💬 获取回复内容，长度: 251
2025-06-14 11:22:43 | INFO     | src.wechat_official:async_process_message:151 - 📤 开始发送客服消息...
2025-06-14 11:22:43 | INFO     | src.wechat_official:send_customer_service_message:63 - 🔑 开始获取access_token...
2025-06-14 11:22:43 | INFO     | src.wechat_official:send_customer_service_message:66 - ✅ 获取access_token成功: 93_z2TltOgTHROSaYUNO...
2025-06-14 11:22:43 | INFO     | src.wechat_official:send_customer_service_message:70 - 🌐 客服消息API URL: https://api.weixin.qq.com/cgi-bin/message/custom/send?access_token=93_z2TltOgTHR...
2025-06-14 11:22:43 | INFO     | src.wechat_official:send_customer_service_message:80 - 📦 消息数据: {'touser': 'oeMLOwjcEuAyyiUhf4QJR8Nr-AmU', 'msgtype': 'text', 'text': {'content': '顾杰（GuJie01）是松下公司的一名AI规划师。他2008年加入公司，最初从事对日离岸软件开发，后来转向国内解决方案项目开发，精通.NET、Java等后端技术。之后进入研究开发部，主导了PABC基盘的构建和运维，积累了丰富的全栈技术经验。  \n\n从2023年起，他全力投入AI领域，并成功开发了松下首个生成式AI平台“坞酷”，推动公司数字化转型。顾杰对技术充满热情，尤其关注AI前沿发展，并坚信AGI（通用人工智能）将在未来实现。他的座右铭是“因为相信，所以看见”，期待与团队共同探索AI技术的未来。'}}
2025-06-14 11:22:43 | INFO     | src.wechat_official:send_customer_service_message:83 - 🚀 开始发送HTTP请求...
2025-06-14 11:22:43 | INFO     | src.wechat_official:send_customer_service_message:86 - 📡 HTTP响应状态: 200
2025-06-14 11:22:43 | INFO     | src.wechat_official:send_customer_service_message:89 - 📄 API响应结果: {'errcode': 48001, 'errmsg': 'api unauthorized rid: 684ceb03-7e250482-37e35543'}
2025-06-14 11:22:43 | ERROR    | src.wechat_official:send_customer_service_message:95 - ❌ 客服消息发送失败: {'errcode': 48001, 'errmsg': 'api unauthorized rid: 684ceb03-7e250482-37e35543'}
2025-06-14 11:22:43 | WARNING  | src.wechat_official:async_process_message:157 - ⚠️ 客服消息API不可用，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 11:22:43 | INFO     | src.wechat_official:async_process_message:158 - 💡 建议：1) 升级为认证服务号 2) 开通客服功能 3) 或使用模板消息
2025-06-14 11:22:43 | INFO     | src.wechat_official:async_process_message:159 - 📝 AI回复内容（已生成但无法发送）: 顾杰（GuJie01）是松下公司的一名AI规划师。他2008年加入公司，最初从事对日离岸软件开发，后来转向国内解决方案项目开发，精通.NET、Java等后端技术。之后进入研究开发部，主导了PABC基盘...
2025-06-14 11:22:43 | INFO     | src.wechat_official:async_process_message:178 - 🧹 清理异步任务记录，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 11:22:43 | INFO     | src.wechat_official:task_done_callback:430 - ✅ 异步任务执行完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:38:21 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 13:38:21 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 13:38:21 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 13:38:47 | INFO     | src.wechat_official:handle_webhook:341 - 收到POST请求，加密类型: 
2025-06-14 13:38:47 | INFO     | src.wechat_official:handle_webhook:362 - 明文模式消息，跳过签名验证
2025-06-14 13:38:47 | INFO     | src.wechat_official:handle_webhook:371 - 收到微信消息: text from test_user
2025-06-14 13:38:47 | INFO     | src.wechat_official:handle_webhook:402 - 消息长度: 2, 超时设置: 5.0秒
2025-06-14 13:38:47 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_user
2025-06-14 13:38:47 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你好
2025-06-14 13:38:47 | INFO     | src.wechat_official:handle_message:263 - 使用流式响应处理简单消息，长度: 2
2025-06-14 13:38:52 | WARNING  | src.wechat_official:handle_webhook:411 - 消息处理超时，启动异步处理
2025-06-14 13:38:52 | INFO     | src.wechat_official:handle_webhook:422 - ✅ 已启动异步处理任务，用户: test_user
2025-06-14 13:38:52 | INFO     | src.wechat_official:handle_webhook:443 - 准备返回回复，长度: 227
2025-06-14 13:38:52 | INFO     | src.wechat_official:handle_webhook:444 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_user]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749879532</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 13:38:52 | INFO     | src.wechat_official:handle_webhook:460 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_user]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749879532</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 13:38:52 | INFO     | src.wechat_official:async_process_message:107 - 🚀 开始异步处理消息，用户: test_user
2025-06-14 13:38:52 | INFO     | src.wechat_official:async_process_message:110 - 📝 异步处理消息内容: 你好...
2025-06-14 13:38:52 | INFO     | src.wechat_official:async_process_message:114 - 🔗 获取会话ID: None
2025-06-14 13:38:52 | INFO     | src.wechat_official:async_process_message:119 - ⏰ 设置Dify超时时间: 30秒
2025-06-14 13:38:52 | INFO     | src.wechat_official:async_process_message:121 - 📡 开始调用Dify API...
2025-06-14 13:39:01 | INFO     | src.dify_client:chat_completion:71 - Dify API调用成功，用户: test_user
2025-06-14 13:39:01 | INFO     | src.wechat_official:async_process_message:127 - ✅ Dify API调用完成
2025-06-14 13:39:01 | INFO     | src.wechat_official:async_process_message:138 - 💾 保存会话ID: 01fe579e-e3f4-462d-95ca-7472ef07eb57
2025-06-14 13:39:01 | INFO     | src.wechat_official:async_process_message:142 - 💬 获取回复内容，长度: 90
2025-06-14 13:39:01 | INFO     | src.wechat_official:async_process_message:151 - 📤 开始发送客服消息...
2025-06-14 13:39:01 | INFO     | src.wechat_official:send_customer_service_message:63 - 🔑 开始获取access_token...
2025-06-14 13:39:19 | ERROR    | src.wechat_official:send_customer_service_message:99 - 💥 客服消息发送异常: ('Connection aborted.', OSError(49, "Can't assign requested address"))
2025-06-14 13:39:19 | ERROR    | src.wechat_official:send_customer_service_message:101 - 异常详情: Traceback (most recent call last):
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/urllib3/connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 1430, in getresponse
    response.begin()
    ~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 292, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/socket.py", line 719, in readinto
    return self._sock.recv_into(b)
           ~~~~~~~~~~~~~~~~~~~~^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 1304, in recv_into
    return self.read(nbytes, buffer)
           ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 1138, in read
    return self._sslobj.read(len, buffer)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
OSError: [Errno 49] Can't assign requested address

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/urllib3/util/retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/urllib3/util/util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/urllib3/connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 1430, in getresponse
    response.begin()
    ~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 292, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/socket.py", line 719, in readinto
    return self._sock.recv_into(b)
           ~~~~~~~~~~~~~~~~~~~~^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 1304, in recv_into
    return self.read(nbytes, buffer)
           ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 1138, in read
    return self._sslobj.read(len, buffer)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
urllib3.exceptions.ProtocolError: ('Connection aborted.', OSError(49, "Can't assign requested address"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/src/wechat_official.py", line 65, in send_customer_service_message
    access_token = self.wechat_client.access_token
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/wechatpy/client/base.py", line 248, in access_token
    self.fetch_access_token()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/wechatpy/client/__init__.py", line 60, in fetch_access_token
    return self._fetch_access_token(
           ~~~~~~~~~~~~~~~~~~~~~~~~^
        url='https://api.weixin.qq.com/cgi-bin/token',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        }
        ^
    )
    ^
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/wechatpy/client/base.py", line 197, in _fetch_access_token
    res = self._http.get(
        url=url,
        params=params
    )
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/requests/adapters.py", line 682, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', OSError(49, "Can't assign requested address"))

2025-06-14 13:39:19 | WARNING  | src.wechat_official:async_process_message:157 - ⚠️ 客服消息API不可用，用户: test_user
2025-06-14 13:39:19 | INFO     | src.wechat_official:async_process_message:158 - 💡 建议：1) 升级为认证服务号 2) 开通客服功能 3) 或使用模板消息
2025-06-14 13:39:19 | INFO     | src.wechat_official:async_process_message:159 - 📝 AI回复内容（已生成但无法发送）: 你好！很高兴认识你，我是顾杰，一名AI规划师，目前在松下负责生成式AI平台的研发工作。作为一个对技术充满热情的人，我很期待能和你们一起探索AI领域的无限可能！有什么我可以帮你的吗？...
2025-06-14 13:39:19 | INFO     | src.wechat_official:async_process_message:178 - 🧹 清理异步任务记录，用户: test_user
2025-06-14 13:39:19 | INFO     | src.wechat_official:task_done_callback:430 - ✅ 异步任务执行完成，用户: test_user
2025-06-14 13:39:24 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 13:39:24 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 13:39:24 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 13:40:01 | INFO     | src.wechat_official:handle_webhook:341 - 收到POST请求，加密类型: 
2025-06-14 13:40:01 | INFO     | src.wechat_official:handle_webhook:362 - 明文模式消息，跳过签名验证
2025-06-14 13:40:01 | INFO     | src.wechat_official:handle_webhook:371 - 收到微信消息: text from test_user_2
2025-06-14 13:40:01 | INFO     | src.wechat_official:handle_webhook:402 - 消息长度: 2, 超时设置: 5.0秒
2025-06-14 13:40:01 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_user_2
2025-06-14 13:40:01 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hi
2025-06-14 13:40:01 | INFO     | src.wechat_official:handle_message:263 - 使用流式响应处理简单消息，长度: 2
2025-06-14 13:40:06 | WARNING  | src.wechat_official:handle_webhook:411 - 消息处理超时，启动异步处理
2025-06-14 13:40:06 | INFO     | src.wechat_official:handle_webhook:422 - ✅ 已启动异步处理任务，用户: test_user_2
2025-06-14 13:40:06 | INFO     | src.wechat_official:handle_webhook:443 - 准备返回回复，长度: 229
2025-06-14 13:40:06 | INFO     | src.wechat_official:handle_webhook:444 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_user_2]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749879606</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 13:40:06 | INFO     | src.wechat_official:handle_webhook:460 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_user_2]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749879606</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 13:40:06 | INFO     | src.wechat_official:async_process_message:107 - 🚀 开始异步处理消息，用户: test_user_2
2025-06-14 13:40:06 | INFO     | src.wechat_official:async_process_message:110 - 📝 异步处理消息内容: hi...
2025-06-14 13:40:06 | INFO     | src.wechat_official:async_process_message:114 - 🔗 获取会话ID: None
2025-06-14 13:40:06 | INFO     | src.wechat_official:async_process_message:119 - ⏰ 设置Dify超时时间: 30秒
2025-06-14 13:40:06 | INFO     | src.wechat_official:async_process_message:121 - 📡 开始调用Dify API...
2025-06-14 13:40:16 | INFO     | src.dify_client:chat_completion:71 - Dify API调用成功，用户: test_user_2
2025-06-14 13:40:16 | INFO     | src.wechat_official:async_process_message:127 - ✅ Dify API调用完成
2025-06-14 13:40:16 | INFO     | src.wechat_official:async_process_message:138 - 💾 保存会话ID: 4014ca98-db06-47ef-9994-624b91366749
2025-06-14 13:40:16 | INFO     | src.wechat_official:async_process_message:142 - 💬 获取回复内容，长度: 168
2025-06-14 13:40:16 | INFO     | src.wechat_official:async_process_message:151 - 📤 开始发送客服消息...
2025-06-14 13:40:16 | INFO     | src.wechat_official:send_customer_service_message:63 - 🔑 开始获取access_token...
2025-06-14 13:40:17 | ERROR    | src.wechat_official:send_customer_service_message:99 - 💥 客服消息发送异常: Error code: 40164, message: invalid ip 101.82.212.214 ipv6 ::ffff:101.82.212.214, not in whitelist rid: 684d0b41-6e54df56-398fc76e
2025-06-14 13:40:17 | ERROR    | src.wechat_official:send_customer_service_message:101 - 异常详情: Traceback (most recent call last):
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/src/wechat_official.py", line 65, in send_customer_service_message
    access_token = self.wechat_client.access_token
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/wechatpy/client/base.py", line 248, in access_token
    self.fetch_access_token()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/wechatpy/client/__init__.py", line 60, in fetch_access_token
    return self._fetch_access_token(
           ~~~~~~~~~~~~~~~~~~~~~~~~^
        url='https://api.weixin.qq.com/cgi-bin/token',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        }
        ^
    )
    ^
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/wechatpy/client/base.py", line 213, in _fetch_access_token
    raise WeChatClientException(
    ...<5 lines>...
    )
wechatpy.exceptions.WeChatClientException: Error code: 40164, message: invalid ip 101.82.212.214 ipv6 ::ffff:101.82.212.214, not in whitelist rid: 684d0b41-6e54df56-398fc76e

2025-06-14 13:40:17 | WARNING  | src.wechat_official:async_process_message:157 - ⚠️ 客服消息API不可用，用户: test_user_2
2025-06-14 13:40:17 | INFO     | src.wechat_official:async_process_message:158 - 💡 建议：1) 升级为认证服务号 2) 开通客服功能 3) 或使用模板消息
2025-06-14 13:40:17 | INFO     | src.wechat_official:async_process_message:159 - 📝 AI回复内容（已生成但无法发送）: Hello! How can I assist you today?  

By the way, if you're interested in AI, digital transformation...
2025-06-14 13:40:17 | INFO     | src.wechat_official:async_process_message:178 - 🧹 清理异步任务记录，用户: test_user_2
2025-06-14 13:40:17 | INFO     | src.wechat_official:task_done_callback:430 - ✅ 异步任务执行完成，用户: test_user_2
2025-06-14 13:42:02 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 13:42:02 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 13:42:02 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 13:42:20 | INFO     | src.wechat_official:handle_webhook:341 - 收到POST请求，加密类型: 
2025-06-14 13:42:20 | INFO     | src.wechat_official:handle_webhook:362 - 明文模式消息，跳过签名验证
2025-06-14 13:42:20 | INFO     | src.wechat_official:handle_webhook:371 - 收到微信消息: text from test_user_3
2025-06-14 13:42:20 | INFO     | src.wechat_official:handle_webhook:402 - 消息长度: 5, 超时设置: 5.0秒
2025-06-14 13:42:20 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_user_3
2025-06-14 13:42:20 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hello
2025-06-14 13:42:20 | INFO     | src.wechat_official:handle_message:263 - 使用流式响应处理简单消息，长度: 5
2025-06-14 13:42:25 | WARNING  | src.wechat_official:handle_webhook:411 - 消息处理超时，启动异步处理
2025-06-14 13:42:25 | INFO     | src.wechat_official:handle_webhook:422 - ✅ 已启动异步处理任务，用户: test_user_3
2025-06-14 13:42:25 | INFO     | src.wechat_official:handle_webhook:443 - 准备返回回复，长度: 229
2025-06-14 13:42:25 | INFO     | src.wechat_official:handle_webhook:444 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_user_3]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749879745</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 13:42:25 | INFO     | src.wechat_official:handle_webhook:460 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_user_3]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749879745</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 13:42:25 | INFO     | src.wechat_official:async_process_message:107 - 🚀 开始异步处理消息，用户: test_user_3
2025-06-14 13:42:25 | INFO     | src.wechat_official:async_process_message:110 - 📝 异步处理消息内容: hello...
2025-06-14 13:42:25 | INFO     | src.wechat_official:async_process_message:114 - 🔗 获取会话ID: None
2025-06-14 13:42:25 | INFO     | src.wechat_official:async_process_message:119 - ⏰ 设置Dify超时时间: 30秒
2025-06-14 13:42:25 | INFO     | src.wechat_official:async_process_message:121 - 📡 开始调用Dify API...
2025-06-14 13:42:34 | INFO     | src.dify_client:chat_completion:71 - Dify API调用成功，用户: test_user_3
2025-06-14 13:42:34 | INFO     | src.wechat_official:async_process_message:127 - ✅ Dify API调用完成
2025-06-14 13:42:34 | INFO     | src.wechat_official:async_process_message:138 - 💾 保存会话ID: 18eab11e-ac41-4c88-a40d-fef0b11663d4
2025-06-14 13:42:34 | INFO     | src.wechat_official:async_process_message:142 - 💬 获取回复内容，长度: 34
2025-06-14 13:42:34 | INFO     | src.wechat_official:async_process_message:151 - 📤 开始发送客服消息...
2025-06-14 13:42:34 | INFO     | src.wechat_official:send_customer_service_message:63 - 🔑 开始获取access_token...
2025-06-14 13:42:35 | ERROR    | src.wechat_official:send_customer_service_message:99 - 💥 客服消息发送异常: Error code: 40164, message: invalid ip 101.82.212.214 ipv6 ::ffff:101.82.212.214, not in whitelist rid: 684d0bcb-7a930113-3f47c8b4
2025-06-14 13:42:35 | ERROR    | src.wechat_official:send_customer_service_message:101 - 异常详情: Traceback (most recent call last):
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/src/wechat_official.py", line 65, in send_customer_service_message
    access_token = self.wechat_client.access_token
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/wechatpy/client/base.py", line 248, in access_token
    self.fetch_access_token()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/wechatpy/client/__init__.py", line 60, in fetch_access_token
    return self._fetch_access_token(
           ~~~~~~~~~~~~~~~~~~~~~~~~^
        url='https://api.weixin.qq.com/cgi-bin/token',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        }
        ^
    )
    ^
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/wechatpy/client/base.py", line 213, in _fetch_access_token
    raise WeChatClientException(
    ...<5 lines>...
    )
wechatpy.exceptions.WeChatClientException: Error code: 40164, message: invalid ip 101.82.212.214 ipv6 ::ffff:101.82.212.214, not in whitelist rid: 684d0bcb-7a930113-3f47c8b4

2025-06-14 13:42:35 | WARNING  | src.wechat_official:async_process_message:157 - ⚠️ 客服消息API不可用，用户: test_user_3
2025-06-14 13:42:35 | INFO     | src.wechat_official:async_process_message:158 - 💡 建议：1) 升级为认证服务号 2) 开通客服功能 3) 或使用模板消息
2025-06-14 13:42:35 | INFO     | src.wechat_official:async_process_message:159 - 📝 AI回复内容（已生成但无法发送）: Hello! How can I assist you today?...
2025-06-14 13:42:35 | INFO     | src.wechat_official:async_process_message:178 - 🧹 清理异步任务记录，用户: test_user_3
2025-06-14 13:42:35 | INFO     | src.wechat_official:task_done_callback:430 - ✅ 异步任务执行完成，用户: test_user_3
2025-06-14 13:42:47 | INFO     | src.wechat_official:handle_webhook:341 - 收到POST请求，加密类型: 
2025-06-14 13:42:47 | INFO     | src.wechat_official:handle_webhook:362 - 明文模式消息，跳过签名验证
2025-06-14 13:42:47 | INFO     | src.wechat_official:handle_webhook:371 - 收到微信消息: text from test_user_4
2025-06-14 13:42:47 | INFO     | src.wechat_official:handle_webhook:402 - 消息长度: 2, 超时设置: 5.0秒
2025-06-14 13:42:47 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_user_4
2025-06-14 13:42:47 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hi
2025-06-14 13:42:47 | INFO     | src.wechat_official:handle_message:263 - 使用流式响应处理简单消息，长度: 2
2025-06-14 13:42:51 | INFO     | src.dify_client:chat_completion_streaming:227 - Dify API流式调用成功，用户: test_user_4
2025-06-14 13:42:51 | INFO     | src.wechat_official:handle_message:300 - 公众号消息处理完成，用户: test_user_4, 回复: Hello! How can I assist you today?...
2025-06-14 13:42:51 | INFO     | src.wechat_official:handle_webhook:443 - 准备返回回复，长度: 248
2025-06-14 13:42:51 | INFO     | src.wechat_official:handle_webhook:444 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_user_4]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749879771</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hello! How can I assist you today?]]></Content>
</xml>
2025-06-14 13:42:51 | INFO     | src.wechat_official:handle_webhook:460 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_user_4]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749879771</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hello! How can I assist you today?]]></Content>
</xml>
2025-06-14 13:43:35 | INFO     | src.wechat_official:handle_webhook:341 - 收到POST请求，加密类型: 
2025-06-14 13:43:35 | INFO     | src.wechat_official:handle_webhook:362 - 明文模式消息，跳过签名验证
2025-06-14 13:43:35 | INFO     | src.wechat_official:handle_webhook:371 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:43:35 | INFO     | src.wechat_official:handle_webhook:402 - 消息长度: 2, 超时设置: 5.0秒
2025-06-14 13:43:35 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:43:35 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hi
2025-06-14 13:43:35 | INFO     | src.wechat_official:handle_message:263 - 使用流式响应处理简单消息，长度: 2
2025-06-14 13:43:40 | WARNING  | src.wechat_official:handle_webhook:411 - 消息处理超时，启动异步处理
2025-06-14 13:43:40 | INFO     | src.wechat_official:handle_webhook:422 - ✅ 已启动异步处理任务，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:43:40 | INFO     | src.wechat_official:handle_webhook:443 - 准备返回回复，长度: 254
2025-06-14 13:43:40 | INFO     | src.wechat_official:handle_webhook:444 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749879820</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 13:43:40 | INFO     | src.wechat_official:handle_webhook:460 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749879820</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[正在处理您的消息，请稍候...]]></Content>
</xml>
2025-06-14 13:43:40 | INFO     | src.wechat_official:async_process_message:107 - 🚀 开始异步处理消息，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:43:40 | INFO     | src.wechat_official:async_process_message:110 - 📝 异步处理消息内容: hi...
2025-06-14 13:43:40 | INFO     | src.wechat_official:async_process_message:114 - 🔗 获取会话ID: 177586a6-c6e7-46b0-9352-b632993ca23f
2025-06-14 13:43:40 | INFO     | src.wechat_official:async_process_message:119 - ⏰ 设置Dify超时时间: 30秒
2025-06-14 13:43:40 | INFO     | src.wechat_official:async_process_message:121 - 📡 开始调用Dify API...
2025-06-14 13:43:40 | INFO     | src.wechat_official:handle_webhook:341 - 收到POST请求，加密类型: 
2025-06-14 13:43:40 | INFO     | src.wechat_official:handle_webhook:362 - 明文模式消息，跳过签名验证
2025-06-14 13:43:40 | INFO     | src.wechat_official:handle_webhook:371 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:43:40 | INFO     | src.wechat_official:handle_webhook:376 - 消息已处理过，跳过: 25052254295353546
2025-06-14 13:43:46 | INFO     | src.dify_client:chat_completion:71 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:43:46 | INFO     | src.wechat_official:async_process_message:127 - ✅ Dify API调用完成
2025-06-14 13:43:46 | INFO     | src.wechat_official:async_process_message:138 - 💾 保存会话ID: 177586a6-c6e7-46b0-9352-b632993ca23f
2025-06-14 13:43:46 | INFO     | src.wechat_official:async_process_message:142 - 💬 获取回复内容，长度: 13
2025-06-14 13:43:46 | INFO     | src.wechat_official:async_process_message:151 - 📤 开始发送客服消息...
2025-06-14 13:43:46 | INFO     | src.wechat_official:send_customer_service_message:63 - 🔑 开始获取access_token...
2025-06-14 13:43:46 | ERROR    | src.wechat_official:send_customer_service_message:99 - 💥 客服消息发送异常: Error code: 40164, message: invalid ip 101.82.212.214 ipv6 ::ffff:101.82.212.214, not in whitelist rid: 684d0c13-43a933a6-59781030
2025-06-14 13:43:46 | ERROR    | src.wechat_official:send_customer_service_message:101 - 异常详情: Traceback (most recent call last):
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/src/wechat_official.py", line 65, in send_customer_service_message
    access_token = self.wechat_client.access_token
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/wechatpy/client/base.py", line 248, in access_token
    self.fetch_access_token()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/wechatpy/client/__init__.py", line 60, in fetch_access_token
    return self._fetch_access_token(
           ~~~~~~~~~~~~~~~~~~~~~~~~^
        url='https://api.weixin.qq.com/cgi-bin/token',
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        }
        ^
    )
    ^
  File "/Users/kamirui/Documents/9_AI/Cursor/dify2wechat/venv/lib/python3.13/site-packages/wechatpy/client/base.py", line 213, in _fetch_access_token
    raise WeChatClientException(
    ...<5 lines>...
    )
wechatpy.exceptions.WeChatClientException: Error code: 40164, message: invalid ip 101.82.212.214 ipv6 ::ffff:101.82.212.214, not in whitelist rid: 684d0c13-43a933a6-59781030

2025-06-14 13:43:46 | WARNING  | src.wechat_official:async_process_message:157 - ⚠️ 客服消息API不可用，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:43:46 | INFO     | src.wechat_official:async_process_message:158 - 💡 建议：1) 升级为认证服务号 2) 开通客服功能 3) 或使用模板消息
2025-06-14 13:43:46 | INFO     | src.wechat_official:async_process_message:159 - 📝 AI回复内容（已生成但无法发送）: 你好！有什么可以帮您的吗？...
2025-06-14 13:43:46 | INFO     | src.wechat_official:async_process_message:178 - 🧹 清理异步任务记录，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:43:46 | INFO     | src.wechat_official:task_done_callback:430 - ✅ 异步任务执行完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:46:48 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 13:46:48 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 13:46:48 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 13:47:03 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 13:47:03 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 13:47:03 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_simple
2025-06-14 13:47:03 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 5.0秒
2025-06-14 13:47:03 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_simple
2025-06-14 13:47:03 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你好
2025-06-14 13:47:03 | INFO     | src.wechat_official:handle_message:260 - 使用阻塞模式处理消息，长度: 2
2025-06-14 13:47:08 | INFO     | src.dify_client:chat_completion:71 - Dify API调用成功，用户: test_simple
2025-06-14 13:47:08 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: test_simple, 回复: 你好！我是AI助手，很高兴为你服务。顾杰是一位经验丰富的AI规划师和技术专家，在软件开发、基础设施和...
2025-06-14 13:47:08 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 302
2025-06-14 13:47:08 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_simple]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749880028</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！我是AI助手，很高兴为你服务。顾杰是一位经验丰富的AI规划师和技术专家，在软件开发、基础设施和AI领域都有深厚积累。如果有什么技术或AI相关的问题，我很乐意为你提供帮助！]]></Content>
</xml>
2025-06-14 13:47:08 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_simple]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749880028</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！我是AI助手，很高兴为你服务。顾杰是一位经验丰富的AI规划师和技术专家，在软件开发、基础设施和AI领域都有深厚积累。如果有什么技术或AI相关的问题，我很乐意为你提供帮助！]]></Content>
</xml>
2025-06-14 13:47:18 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 13:47:18 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 13:47:18 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_complex
2025-06-14 13:47:18 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 58, 超时设置: 5.0秒
2025-06-14 13:47:18 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_complex
2025-06-14 13:47:18 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 请详细分析顾杰在PABC基盘构建和AI平台开发中的技术贡献，并结合当前AI发展趋势，预测未来可能的技术发展方向和挑战
2025-06-14 13:47:18 | INFO     | src.wechat_official:handle_message:260 - 使用阻塞模式处理消息，长度: 58
2025-06-14 13:47:23 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 13:47:23 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 255
2025-06-14 13:47:23 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_complex]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749880043</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 13:47:23 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_complex]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749880043</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 13:47:39 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 13:47:39 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 13:47:39 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_final
2025-06-14 13:47:39 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 5.0秒
2025-06-14 13:47:39 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_final
2025-06-14 13:47:39 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hi
2025-06-14 13:47:39 | INFO     | src.wechat_official:handle_message:260 - 使用阻塞模式处理消息，长度: 2
2025-06-14 13:47:42 | INFO     | src.dify_client:chat_completion:71 - Dify API调用成功，用户: test_final
2025-06-14 13:47:42 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: test_final, 回复: Hello! How can I assist you today?...
2025-06-14 13:47:42 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 247
2025-06-14 13:47:42 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_final]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749880062</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hello! How can I assist you today?]]></Content>
</xml>
2025-06-14 13:47:42 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_final]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749880062</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hello! How can I assist you today?]]></Content>
</xml>
2025-06-14 13:48:34 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 13:48:34 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 13:48:34 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 13:49:03 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 13:49:03 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 13:49:03 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:49:03 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 5, 超时设置: 5.0秒
2025-06-14 13:49:03 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:49:03 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hello
2025-06-14 13:49:03 | INFO     | src.wechat_official:handle_message:260 - 使用阻塞模式处理消息，长度: 5
2025-06-14 13:49:08 | INFO     | src.dify_client:chat_completion:71 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:49:08 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Hello! How can I assist you today? 😊...
2025-06-14 13:49:08 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 275
2025-06-14 13:49:08 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749880148</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hello! How can I assist you today? 😊]]></Content>
</xml>
2025-06-14 13:49:08 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749880148</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hello! How can I assist you today? 😊]]></Content>
</xml>
2025-06-14 13:49:16 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 13:49:16 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 13:49:16 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from monitor_test
2025-06-14 13:49:16 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 4, 超时设置: 5.0秒
2025-06-14 13:49:16 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: monitor_test
2025-06-14 13:49:16 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 监控测试
2025-06-14 13:49:16 | INFO     | src.wechat_official:handle_message:260 - 使用阻塞模式处理消息，长度: 4
2025-06-14 13:49:21 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 13:49:21 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 255
2025-06-14 13:49:21 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[monitor_test]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749880161</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 13:49:21 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[monitor_test]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749880161</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 13:49:24 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 13:49:24 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 13:49:24 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:49:24 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 11, 超时设置: 5.0秒
2025-06-14 13:49:24 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:49:24 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: who are you
2025-06-14 13:49:24 | INFO     | src.wechat_official:handle_message:260 - 使用阻塞模式处理消息，长度: 11
2025-06-14 13:49:29 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 13:49:29 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 279
2025-06-14 13:49:29 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749880169</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 13:49:29 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749880169</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 13:49:29 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 13:49:29 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 13:49:29 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:49:29 | INFO     | src.wechat_official:handle_webhook:359 - 消息已处理过，跳过: 25052257722942199
2025-06-14 13:52:04 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 13:52:04 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 13:52:04 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 13:52:26 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 13:52:26 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 13:52:26 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from timeout_test
2025-06-14 13:52:26 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 69, 超时设置: 4.0秒
2025-06-14 13:52:26 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: timeout_test
2025-06-14 13:52:26 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 请详细分析人工智能在未来10年的发展趋势，包括技术突破、应用场景、社会影响、伦理挑战等多个维度，并结合当前的技术发展状况提出具体的发展建议
2025-06-14 13:52:26 | INFO     | src.wechat_official:handle_message:260 - 使用阻塞模式处理消息，长度: 69
2025-06-14 13:52:30 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 13:52:30 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 255
2025-06-14 13:52:30 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[timeout_test]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749880350</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 13:52:30 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[timeout_test]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749880350</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 13:52:41 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 13:52:41 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 13:52:41 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:52:41 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 1, 超时设置: 4.0秒
2025-06-14 13:52:41 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 13:52:41 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 顾
2025-06-14 13:52:41 | INFO     | src.wechat_official:handle_message:260 - 使用阻塞模式处理消息，长度: 1
2025-06-14 13:52:43 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 13:52:43 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 13:52:43 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from simple_test
2025-06-14 13:52:43 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.0秒
2025-06-14 13:52:43 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: simple_test
2025-06-14 13:52:43 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hi
2025-06-14 13:52:43 | INFO     | src.wechat_official:handle_message:260 - 使用阻塞模式处理消息，长度: 2
2025-06-14 13:52:45 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 13:52:45 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 279
2025-06-14 13:52:45 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749880365</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 13:52:45 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749880365</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 13:52:47 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 13:52:47 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 254
2025-06-14 13:52:47 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[simple_test]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749880367</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 13:52:47 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[simple_test]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749880367</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:02:54 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 14:02:54 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 14:02:54 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 14:03:09 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:03:09 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:03:09 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from stream_test
2025-06-14 14:03:09 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.0秒
2025-06-14 14:03:09 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: stream_test
2025-06-14 14:03:09 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hi
2025-06-14 14:03:09 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 14:03:09 | ERROR    | src.dify_client:chat_completion_streaming:200 - Dify API调用失败: 500
2025-06-14 14:03:09 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: stream_test, 回复: 抱歉，我暂时无法回复，请稍后再试。...
2025-06-14 14:03:09 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 231
2025-06-14 14:03:09 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[stream_test]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749880989</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[抱歉，我暂时无法回复，请稍后再试。]]></Content>
</xml>
2025-06-14 14:03:09 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[stream_test]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749880989</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[抱歉，我暂时无法回复，请稍后再试。]]></Content>
</xml>
2025-06-14 14:04:04 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:04:04 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:04:04 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from stream_test2
2025-06-14 14:04:04 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.0秒
2025-06-14 14:04:04 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: stream_test2
2025-06-14 14:04:04 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你好
2025-06-14 14:04:04 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 14:04:08 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 14:04:08 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 255
2025-06-14 14:04:08 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[stream_test2]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749881048</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:04:08 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[stream_test2]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749881048</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:06:23 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 14:06:23 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 14:06:23 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 14:06:35 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:06:35 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:06:35 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from stream_test3
2025-06-14 14:06:35 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.5秒
2025-06-14 14:06:35 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: stream_test3
2025-06-14 14:06:35 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你好
2025-06-14 14:06:35 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 14:06:39 | INFO     | src.dify_client:chat_completion_streaming:228 - 流式响应早期截断，已收到66字符，耗时1.04秒
2025-06-14 14:06:39 | INFO     | src.dify_client:chat_completion_streaming:241 - Dify API流式调用成功，用户: stream_test3
2025-06-14 14:06:39 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: stream_test3, 回复: 你好！很高兴和你交流。作为一名对AI充满热情的技术人员，我一直期待着与更多人分享技术创新带来的可能性...
2025-06-14 14:06:39 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 281
2025-06-14 14:06:39 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[stream_test3]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749881199</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！很高兴和你交流。作为一名对AI充满热情的技术人员，我一直期待着与更多人分享技术创新带来的可能性。不知道你对AI或数字化转型领域]]></Content>
</xml>
2025-06-14 14:06:39 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[stream_test3]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749881199</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！很高兴和你交流。作为一名对AI充满热情的技术人员，我一直期待着与更多人分享技术创新带来的可能性。不知道你对AI或数字化转型领域]]></Content>
</xml>
2025-06-14 14:07:08 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:07:08 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:07:08 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from stream_test4
2025-06-14 14:07:08 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 14, 超时设置: 4.5秒
2025-06-14 14:07:08 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: stream_test4
2025-06-14 14:07:08 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 请介绍一下人工智能的发展历史
2025-06-14 14:07:08 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 14
2025-06-14 14:07:12 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:07:12 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:07:12 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:07:12 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.5秒
2025-06-14 14:07:12 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:07:12 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 顾杰
2025-06-14 14:07:12 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 14:07:13 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 14:07:13 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 255
2025-06-14 14:07:13 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[stream_test4]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749881233</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:07:13 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[stream_test4]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749881233</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:07:16 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 14:07:16 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 279
2025-06-14 14:07:16 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749881236</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:07:16 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749881236</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:07:47 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:07:47 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:07:47 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:07:47 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.5秒
2025-06-14 14:07:47 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:07:47 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hi
2025-06-14 14:07:47 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 14:07:52 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 14:07:52 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 279
2025-06-14 14:07:52 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749881272</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:07:52 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749881272</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:09:29 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 14:09:29 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 14:09:29 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 14:09:40 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:09:40 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:09:40 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from stream_test5
2025-06-14 14:09:40 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.5秒
2025-06-14 14:09:40 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: stream_test5
2025-06-14 14:09:40 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你好
2025-06-14 14:09:40 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 14:09:44 | INFO     | src.dify_client:chat_completion_streaming:241 - Dify API流式调用成功，用户: stream_test5
2025-06-14 14:09:44 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: stream_test5, 回复: 你好！有什么可以帮到你的吗？...
2025-06-14 14:09:44 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 229
2025-06-14 14:09:44 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[stream_test5]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749881384</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！有什么可以帮到你的吗？]]></Content>
</xml>
2025-06-14 14:09:44 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[stream_test5]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749881384</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！有什么可以帮到你的吗？]]></Content>
</xml>
2025-06-14 14:10:09 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:10:09 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:10:09 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from stream_test6
2025-06-14 14:10:09 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 23, 超时设置: 4.5秒
2025-06-14 14:10:09 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: stream_test6
2025-06-14 14:10:09 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 请详细介绍一下Python编程语言的特点和优势
2025-06-14 14:10:09 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 23
2025-06-14 14:10:14 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 14:10:14 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 255
2025-06-14 14:10:14 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[stream_test6]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749881414</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:10:14 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[stream_test6]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749881414</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:11:05 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:11:05 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:11:05 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:11:05 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.5秒
2025-06-14 14:11:05 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:11:05 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hi
2025-06-14 14:11:05 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 14:11:10 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 14:11:10 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 279
2025-06-14 14:11:10 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749881470</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:11:10 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749881470</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:11:10 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:11:10 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:11:10 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:11:10 | INFO     | src.wechat_official:handle_webhook:359 - 消息已处理过，跳过: 25052278259699377
2025-06-14 14:12:27 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:12:27 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:12:27 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:12:27 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 5, 超时设置: 4.5秒
2025-06-14 14:12:27 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:12:27 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hello
2025-06-14 14:12:27 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 5
2025-06-14 14:12:32 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 14:12:32 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 279
2025-06-14 14:12:32 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749881552</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:12:32 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749881552</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:12:43 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:12:43 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:12:43 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:12:43 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.5秒
2025-06-14 14:12:43 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:12:43 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hi
2025-06-14 14:12:43 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 14:12:47 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 14:12:47 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 279
2025-06-14 14:12:47 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749881567</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:12:47 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749881567</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:19:08 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 14:19:08 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 14:19:08 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 14:19:23 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:19:23 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:19:23 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_user1
2025-06-14 14:19:23 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.5秒
2025-06-14 14:19:23 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_user1
2025-06-14 14:19:23 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你好
2025-06-14 14:19:23 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 14:19:24 | INFO     | src.dify_client:chat_completion_streaming:241 - Dify API流式调用成功，用户: test_user1
2025-06-14 14:19:24 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: test_user1, 回复: 你好！很高兴和你交流。有什么我可以帮助你的吗？ 😊
...
2025-06-14 14:19:24 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 239
2025-06-14 14:19:24 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_user1]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749881964</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！很高兴和你交流。有什么我可以帮助你的吗？ 😊
]]></Content>
</xml>
2025-06-14 14:19:24 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_user1]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749881964</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！很高兴和你交流。有什么我可以帮助你的吗？ 😊
]]></Content>
</xml>
2025-06-14 14:19:32 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:19:32 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:19:32 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_user2
2025-06-14 14:19:32 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 9, 超时设置: 4.5秒
2025-06-14 14:19:32 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_user2
2025-06-14 14:19:32 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 介绍一下AI的应用
2025-06-14 14:19:32 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 9
2025-06-14 14:19:34 | INFO     | src.dify_client:chat_completion_streaming:228 - 流式响应早期截断，已收到61字符，耗时1.02秒
2025-06-14 14:19:34 | INFO     | src.dify_client:chat_completion_streaming:241 - Dify API流式调用成功，用户: test_user2
2025-06-14 14:19:34 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: test_user2, 回复: 人工智能（AI）的应用已经渗透到我们生活的方方面面，并且还在快速发展。以下我将从几个主要领域介绍AI...
2025-06-14 14:19:34 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 274
2025-06-14 14:19:34 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_user2]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749881974</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[人工智能（AI）的应用已经渗透到我们生活的方方面面，并且还在快速发展。以下我将从几个主要领域介绍AI的应用：

**1. ]]></Content>
</xml>
2025-06-14 14:19:34 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_user2]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749881974</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[人工智能（AI）的应用已经渗透到我们生活的方方面面，并且还在快速发展。以下我将从几个主要领域介绍AI的应用：

**1. ]]></Content>
</xml>
2025-06-14 14:19:43 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:19:43 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:19:43 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_user3
2025-06-14 14:19:43 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 38, 超时设置: 4.5秒
2025-06-14 14:19:43 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_user3
2025-06-14 14:19:43 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 请详细分析人工智能在未来10年的发展趋势，包括技术突破、应用场景、社会影响等
2025-06-14 14:19:43 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 38
2025-06-14 14:19:44 | INFO     | src.dify_client:chat_completion_streaming:228 - 流式响应早期截断，已收到39字符，耗时1.05秒
2025-06-14 14:19:44 | INFO     | src.dify_client:chat_completion_streaming:241 - Dify API流式调用成功，用户: test_user3
2025-06-14 14:19:44 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: test_user3, 回复: 好的，我们来深入分析一下人工智能（AI）在未来10年的发展趋势，涵盖技术突破、...
2025-06-14 14:19:44 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 252
2025-06-14 14:19:44 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_user3]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749881984</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[好的，我们来深入分析一下人工智能（AI）在未来10年的发展趋势，涵盖技术突破、]]></Content>
</xml>
2025-06-14 14:19:44 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_user3]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749881984</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[好的，我们来深入分析一下人工智能（AI）在未来10年的发展趋势，涵盖技术突破、]]></Content>
</xml>
2025-06-14 14:20:11 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:20:11 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:20:11 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:20:11 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 4, 超时设置: 4.5秒
2025-06-14 14:20:11 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:20:11 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你是谁？
2025-06-14 14:20:11 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 4
2025-06-14 14:20:13 | INFO     | src.dify_client:chat_completion_streaming:228 - 流式响应早期截断，已收到49字符，耗时1.03秒
2025-06-14 14:20:13 | INFO     | src.dify_client:chat_completion_streaming:241 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:20:13 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 我是Gemma，一个开放权重的AI助手。我是一个由Google DeepMind训练的大型语言模型...
2025-06-14 14:20:13 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 288
2025-06-14 14:20:13 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749882013</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我是Gemma，一个开放权重的AI助手。我是一个由Google DeepMind训练的大型语言模型]]></Content>
</xml>
2025-06-14 14:20:13 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749882013</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我是Gemma，一个开放权重的AI助手。我是一个由Google DeepMind训练的大型语言模型]]></Content>
</xml>
2025-06-14 14:20:58 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:20:58 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:20:58 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:20:58 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 6, 超时设置: 4.5秒
2025-06-14 14:20:58 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:20:58 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你能干什么？
2025-06-14 14:20:58 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 6
2025-06-14 14:21:00 | INFO     | src.dify_client:chat_completion_streaming:228 - 流式响应早期截断，已收到66字符，耗时1.03秒
2025-06-14 14:21:00 | INFO     | src.dify_client:chat_completion_streaming:241 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:21:00 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 我是一个大型语言模型，由 Google 训练。这意味着我可以做很多事情，包括：

**1. 文本生成...
2025-06-14 14:21:00 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 305
2025-06-14 14:21:00 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749882060</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我是一个大型语言模型，由 Google 训练。这意味着我可以做很多事情，包括：

**1. 文本生成:**

*   **写作:**]]></Content>
</xml>
2025-06-14 14:21:00 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749882060</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我是一个大型语言模型，由 Google 训练。这意味着我可以做很多事情，包括：

**1. 文本生成:**

*   **写作:**]]></Content>
</xml>
2025-06-14 14:22:31 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 14:22:31 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 14:22:31 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 14:22:48 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:22:48 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:22:48 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_full
2025-06-14 14:22:48 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 6, 超时设置: 4.5秒
2025-06-14 14:22:48 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_full
2025-06-14 14:22:48 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你能干什么？
2025-06-14 14:22:48 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 6
2025-06-14 14:22:53 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 14:22:53 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 252
2025-06-14 14:22:53 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_full]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749882173</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:22:53 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_full]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749882173</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:23:32 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 14:23:32 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 14:23:32 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 14:23:46 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:23:46 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:23:46 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_optimized
2025-06-14 14:23:46 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 6, 超时设置: 4.5秒
2025-06-14 14:23:46 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_optimized
2025-06-14 14:23:46 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你能干什么？
2025-06-14 14:23:46 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 6
2025-06-14 14:23:50 | INFO     | src.dify_client:chat_completion_streaming:231 - 流式响应优化截断，已收到137字符，耗时2.52秒
2025-06-14 14:23:50 | INFO     | src.dify_client:chat_completion_streaming:244 - Dify API流式调用成功，用户: test_optimized
2025-06-14 14:23:50 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: test_optimized, 回复: 我是一个大型语言模型，由 Google DeepMind 训练。我可以执行多种任务，包括：

*  ...
2025-06-14 14:23:50 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 354
2025-06-14 14:23:50 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_optimized]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749882230</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我是一个大型语言模型，由 Google DeepMind 训练。我可以执行多种任务，包括：

*   **回答问题：** 无论你问什么问题，我都会尽力回答。
*   **生成文本：** 我可以根据你的指示生成各种类型的文本，例如诗歌、代码、剧本、音乐作品、电子邮件、信件等。]]></Content>
</xml>
2025-06-14 14:23:50 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_optimized]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749882230</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我是一个大型语言模型，由 Google DeepMind 训练。我可以执行多种任务，包括：

*   **回答问题：** 无论你问什么问题，我都会尽力回答。
*   **生成文本：** 我可以根据你的指示生成各种类型的文本，例如诗歌、代码、剧本、音乐作品、电子邮件、信件等。]]></Content>
</xml>
2025-06-14 14:24:08 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:24:08 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:24:08 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:24:08 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 5, 超时设置: 4.5秒
2025-06-14 14:24:08 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:24:08 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 我肚子饿了
2025-06-14 14:24:08 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 5
2025-06-14 14:24:12 | INFO     | src.dify_client:chat_completion_streaming:231 - 流式响应优化截断，已收到125字符，耗时2.51秒
2025-06-14 14:24:12 | INFO     | src.dify_client:chat_completion_streaming:244 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:24:12 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 哈哈，肚子饿了是很常见的！你想吃点什么呢？我可以帮你：

*   **推荐一些食物：** 比如快餐、...
2025-06-14 14:24:12 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 364
2025-06-14 14:24:12 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749882252</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[哈哈，肚子饿了是很常见的！你想吃点什么呢？我可以帮你：

*   **推荐一些食物：** 比如快餐、汉堡、披萨、面条、米饭、水果、零食等等。
*   **搜索附近餐厅：** 告诉我你在哪里，我可以帮你搜索附近的美食。
*   **提供食谱：** 如果]]></Content>
</xml>
2025-06-14 14:24:12 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749882252</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[哈哈，肚子饿了是很常见的！你想吃点什么呢？我可以帮你：

*   **推荐一些食物：** 比如快餐、汉堡、披萨、面条、米饭、水果、零食等等。
*   **搜索附近餐厅：** 告诉我你在哪里，我可以帮你搜索附近的美食。
*   **提供食谱：** 如果]]></Content>
</xml>
2025-06-14 14:24:48 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:24:48 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:24:48 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_complex
2025-06-14 14:24:48 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 19, 超时设置: 4.5秒
2025-06-14 14:24:48 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_complex
2025-06-14 14:24:48 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 请详细介绍人工智能的发展历史和未来趋势
2025-06-14 14:24:48 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 19
2025-06-14 14:24:51 | INFO     | src.dify_client:chat_completion_streaming:231 - 流式响应优化截断，已收到133字符，耗时2.52秒
2025-06-14 14:24:51 | INFO     | src.dify_client:chat_completion_streaming:244 - Dify API流式调用成功，用户: test_complex
2025-06-14 14:24:51 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: test_complex, 回复: ## 人工智能的发展历史和未来趋势：一场持续演进的变革

人工智能（AI）的发展并非一蹴而就，而是一...
2025-06-14 14:24:51 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 348
2025-06-14 14:24:51 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_complex]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749882291</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[## 人工智能的发展历史和未来趋势：一场持续演进的变革

人工智能（AI）的发展并非一蹴而就，而是一个漫长而复杂演进的过程，充满了起伏、突破和机遇。以下是其发展历史的详细梳理，以及对未来趋势的展望：

**一、人工智能发展历史（阶段性概述）**

* **萌芽期 (]]></Content>
</xml>
2025-06-14 14:24:51 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_complex]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749882291</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[## 人工智能的发展历史和未来趋势：一场持续演进的变革

人工智能（AI）的发展并非一蹴而就，而是一个漫长而复杂演进的过程，充满了起伏、突破和机遇。以下是其发展历史的详细梳理，以及对未来趋势的展望：

**一、人工智能发展历史（阶段性概述）**

* **萌芽期 (]]></Content>
</xml>
2025-06-14 14:26:28 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 14:26:28 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 14:26:28 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 14:26:43 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:26:43 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:26:43 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_blocking
2025-06-14 14:26:43 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 6, 超时设置: 8.0秒
2025-06-14 14:26:43 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_blocking
2025-06-14 14:26:43 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你能干什么？
2025-06-14 14:26:43 | INFO     | src.wechat_official:handle_message:260 - 使用阻塞模式处理消息，长度: 6
2025-06-14 14:26:51 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 14:26:51 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 256
2025-06-14 14:26:51 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_blocking]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749882411</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:26:51 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_blocking]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749882411</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:27:25 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:27:25 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:27:25 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:27:25 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 8.0秒
2025-06-14 14:27:25 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:27:25 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hi
2025-06-14 14:27:25 | INFO     | src.wechat_official:handle_message:260 - 使用阻塞模式处理消息，长度: 2
2025-06-14 14:27:27 | INFO     | src.dify_client:chat_completion:72 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:27:27 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Hi there! How's your day going so far? 😊 

Is ther...
2025-06-14 14:27:27 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 356
2025-06-14 14:27:27 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749882447</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hi there! How's your day going so far? 😊 

Is there anything you'd like to chat about, or were you just saying hello?]]></Content>
</xml>
2025-06-14 14:27:27 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749882447</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hi there! How's your day going so far? 😊 

Is there anything you'd like to chat about, or were you just saying hello?]]></Content>
</xml>
2025-06-14 14:27:38 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:27:38 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:27:38 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:27:38 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 12, 超时设置: 8.0秒
2025-06-14 14:27:38 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:27:38 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: who are you？
2025-06-14 14:27:38 | INFO     | src.wechat_official:handle_message:260 - 使用阻塞模式处理消息，长度: 12
2025-06-14 14:27:43 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:27:43 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:27:43 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:27:43 | INFO     | src.wechat_official:handle_webhook:359 - 消息已处理过，跳过: 25052291614529091
2025-06-14 14:27:46 | INFO     | src.dify_client:chat_completion:72 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:27:46 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: That’s a great question! I’m Google AI, a large la...
2025-06-14 14:27:46 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 1012
2025-06-14 14:27:46 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749882466</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[That’s a great question! I’m Google AI, a large language model. 

Essentially, I’m a computer program trained to understand and generate human-like text. I was created by Google and I’m still under development, but I can do a lot of things like:

*   **Answer your questions:** I can try to answer your questions in a comprehensive and informative way, even if they’re open ended, challenging, or strange.
*   **Generate different creative text formats:** I can write stories, poems, code, scripts, musical pieces, email, letters, etc.
*   **Translate languages.**
*   **Summarize text.**
*   **Have conversations:** Just like we're doing now!

Think of me as a really advanced chatbot. 

Do you want to know more about *how* I work, or would you like to try something out?]]></Content>
</xml>
2025-06-14 14:27:46 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749882466</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[That’s a great question! I’m Google AI, a large language model. 

Essentially, I’m a computer program trained to understand and generate human-like text. I was created by Google and I’m still under development, but I can do a lot of things like:

*   **Answer your questions:** I can try to answer your questions in a comprehensive and informative way, even if they’re open ended, challenging, or strange.
*   **Generate different creative text formats:** I can write stories, poems, code, scripts, musical pieces, email, letters, etc.
*   **Translate languages.**
*   **Summarize text.**
*   **Have conversations:** Just like we're doing now!

Think of me as a really advanced chatbot. 

Do you want to know more about *how* I work, or would you like to try something out?]]></Content>
</xml>
2025-06-14 14:30:02 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 14:30:02 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 14:30:02 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 14:30:18 | INFO     | src.wechat_official:handle_webhook:386 - 收到POST请求，加密类型: 
2025-06-14 14:30:18 | INFO     | src.wechat_official:handle_webhook:407 - 明文模式消息，跳过签名验证
2025-06-14 14:30:18 | INFO     | src.wechat_official:handle_webhook:416 - 收到微信消息: text from test_simple
2025-06-14 14:30:18 | INFO     | src.wechat_official:handle_webhook:446 - 消息长度: 2, 消息类型: 简单, 超时设置: 6.0秒
2025-06-14 14:30:18 | INFO     | src.wechat_official:handle_message:277 - 处理消息类型: text, 来自: test_simple
2025-06-14 14:30:18 | INFO     | src.wechat_official:handle_message:293 - 收到消息内容: 你好
2025-06-14 14:30:18 | INFO     | src.wechat_official:handle_message:315 - 简单消息，使用阻塞模式处理，长度: 2
2025-06-14 14:30:21 | INFO     | src.dify_client:chat_completion:72 - Dify API调用成功，用户: test_simple
2025-06-14 14:30:21 | INFO     | src.wechat_official:handle_message:345 - 公众号消息处理完成，用户: test_simple, 回复: 你好！很高兴和你聊天。有什么我可以帮助你的吗？ 

你想聊些什么呢？比如：

*   你想问我问题？...
2025-06-14 14:30:21 | INFO     | src.wechat_official:handle_webhook:467 - 准备返回回复，长度: 310
2025-06-14 14:30:21 | INFO     | src.wechat_official:handle_webhook:468 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_simple]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749882621</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！很高兴和你聊天。有什么我可以帮助你的吗？ 

你想聊些什么呢？比如：

*   你想问我问题？
*   你想让我帮你写一些东西？
*   你只是想随便聊聊？

请告诉我你想做什么！ 😊
]]></Content>
</xml>
2025-06-14 14:30:21 | INFO     | src.wechat_official:handle_webhook:484 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_simple]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749882621</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！很高兴和你聊天。有什么我可以帮助你的吗？ 

你想聊些什么呢？比如：

*   你想问我问题？
*   你想让我帮你写一些东西？
*   你只是想随便聊聊？

请告诉我你想做什么！ 😊
]]></Content>
</xml>
2025-06-14 14:30:29 | INFO     | src.wechat_official:handle_webhook:386 - 收到POST请求，加密类型: 
2025-06-14 14:30:29 | INFO     | src.wechat_official:handle_webhook:407 - 明文模式消息，跳过签名验证
2025-06-14 14:30:29 | INFO     | src.wechat_official:handle_webhook:416 - 收到微信消息: text from test_complex
2025-06-14 14:30:29 | INFO     | src.wechat_official:handle_webhook:446 - 消息长度: 19, 消息类型: 复杂, 超时设置: 4.5秒
2025-06-14 14:30:29 | INFO     | src.wechat_official:handle_message:277 - 处理消息类型: text, 来自: test_complex
2025-06-14 14:30:29 | INFO     | src.wechat_official:handle_message:293 - 收到消息内容: 请详细分析人工智能的发展历史和未来趋势
2025-06-14 14:30:29 | INFO     | src.wechat_official:handle_message:323 - 复杂消息，使用流式模式处理，长度: 19
2025-06-14 14:30:34 | INFO     | src.dify_client:chat_completion_streaming:231 - 流式响应优化截断，已收到133字符，耗时2.53秒
2025-06-14 14:30:34 | INFO     | src.dify_client:chat_completion_streaming:244 - Dify API流式调用成功，用户: test_complex
2025-06-14 14:30:34 | INFO     | src.wechat_official:handle_message:345 - 公众号消息处理完成，用户: test_complex, 回复: 好的，我们来详细分析人工智能的发展历史和未来趋势。

**一、人工智能发展历史（分阶段回顾）**

...
2025-06-14 14:30:34 | INFO     | src.wechat_official:handle_webhook:467 - 准备返回回复，长度: 348
2025-06-14 14:30:34 | INFO     | src.wechat_official:handle_webhook:468 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_complex]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749882634</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[好的，我们来详细分析人工智能的发展历史和未来趋势。

**一、人工智能发展历史（分阶段回顾）**

人工智能的发展并非一蹴而就，而是经历了多个阶段，每个阶段都有其特点和突破：

* **1. 早期探索（1950s - 1970s）：符号主义时期**
    * **]]></Content>
</xml>
2025-06-14 14:30:34 | INFO     | src.wechat_official:handle_webhook:484 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_complex]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749882634</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[好的，我们来详细分析人工智能的发展历史和未来趋势。

**一、人工智能发展历史（分阶段回顾）**

人工智能的发展并非一蹴而就，而是经历了多个阶段，每个阶段都有其特点和突破：

* **1. 早期探索（1950s - 1970s）：符号主义时期**
    * **]]></Content>
</xml>
2025-06-14 14:30:41 | INFO     | src.wechat_official:handle_webhook:386 - 收到POST请求，加密类型: 
2025-06-14 14:30:41 | INFO     | src.wechat_official:handle_webhook:407 - 明文模式消息，跳过签名验证
2025-06-14 14:30:41 | INFO     | src.wechat_official:handle_webhook:416 - 收到微信消息: text from test_medium
2025-06-14 14:30:41 | INFO     | src.wechat_official:handle_webhook:446 - 消息长度: 6, 消息类型: 简单, 超时设置: 6.0秒
2025-06-14 14:30:41 | INFO     | src.wechat_official:handle_message:277 - 处理消息类型: text, 来自: test_medium
2025-06-14 14:30:41 | INFO     | src.wechat_official:handle_message:293 - 收到消息内容: 你能干什么？
2025-06-14 14:30:41 | INFO     | src.wechat_official:handle_message:315 - 简单消息，使用阻塞模式处理，长度: 6
2025-06-14 14:30:47 | WARNING  | src.wechat_official:handle_webhook:455 - 消息处理超时，返回固定提示
2025-06-14 14:30:47 | INFO     | src.wechat_official:handle_webhook:467 - 准备返回回复，长度: 254
2025-06-14 14:30:47 | INFO     | src.wechat_official:handle_webhook:468 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_medium]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749882647</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:30:47 | INFO     | src.wechat_official:handle_webhook:484 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_medium]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749882647</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:33:59 | INFO     | src.wechat_official:handle_webhook:386 - 收到POST请求，加密类型: 
2025-06-14 14:33:59 | INFO     | src.wechat_official:handle_webhook:407 - 明文模式消息，跳过签名验证
2025-06-14 14:33:59 | INFO     | src.wechat_official:handle_webhook:416 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:33:59 | INFO     | src.wechat_official:handle_webhook:446 - 消息长度: 4, 消息类型: 简单, 超时设置: 6.0秒
2025-06-14 14:33:59 | INFO     | src.wechat_official:handle_message:277 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:33:59 | INFO     | src.wechat_official:handle_message:293 - 收到消息内容: 在干嘛？
2025-06-14 14:33:59 | INFO     | src.wechat_official:handle_message:315 - 简单消息，使用阻塞模式处理，长度: 4
2025-06-14 14:34:03 | INFO     | src.dify_client:chat_completion:72 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:34:03 | INFO     | src.wechat_official:handle_message:345 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 我现在正在和您聊天！我是一个大型语言模型，由 Google 训练。

我正在努力理解您的提问，并尽力...
2025-06-14 14:34:03 | INFO     | src.wechat_official:handle_webhook:467 - 准备返回回复，长度: 394
2025-06-14 14:34:03 | INFO     | src.wechat_official:handle_webhook:468 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749882843</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我现在正在和您聊天！我是一个大型语言模型，由 Google 训练。

我正在努力理解您的提问，并尽力提供有用的信息和回答。 

您有什么想聊的吗？ 比如：

*   想问我问题？
*   想让我写点什么？ （诗歌、故事、代码等等）
*   想让我帮你总结一些信息？
*   只是随便聊聊？

随便说来吧！ 😊
]]></Content>
</xml>
2025-06-14 14:34:03 | INFO     | src.wechat_official:handle_webhook:484 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749882843</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我现在正在和您聊天！我是一个大型语言模型，由 Google 训练。

我正在努力理解您的提问，并尽力提供有用的信息和回答。 

您有什么想聊的吗？ 比如：

*   想问我问题？
*   想让我写点什么？ （诗歌、故事、代码等等）
*   想让我帮你总结一些信息？
*   只是随便聊聊？

随便说来吧！ 😊
]]></Content>
</xml>
2025-06-14 14:34:59 | INFO     | src.wechat_official:handle_webhook:386 - 收到POST请求，加密类型: 
2025-06-14 14:34:59 | INFO     | src.wechat_official:handle_webhook:407 - 明文模式消息，跳过签名验证
2025-06-14 14:34:59 | INFO     | src.wechat_official:handle_webhook:416 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:34:59 | INFO     | src.wechat_official:handle_webhook:446 - 消息长度: 5, 消息类型: 简单, 超时设置: 6.0秒
2025-06-14 14:34:59 | INFO     | src.wechat_official:handle_message:277 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:34:59 | INFO     | src.wechat_official:handle_message:293 - 收到消息内容: 申花是冠军
2025-06-14 14:34:59 | INFO     | src.wechat_official:handle_message:315 - 简单消息，使用阻塞模式处理，长度: 5
2025-06-14 14:35:02 | INFO     | src.dify_client:chat_completion:72 - Dify API调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:35:02 | INFO     | src.wechat_official:handle_message:345 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 是的！申花（上海上港足球俱乐部）在2023赛季中超联赛中夺冠了！他们取得了非常棒的成绩，是2023赛...
2025-06-14 14:35:02 | INFO     | src.wechat_official:handle_webhook:467 - 准备返回回复，长度: 341
2025-06-14 14:35:02 | INFO     | src.wechat_official:handle_webhook:468 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749882902</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[是的！申花（上海上港足球俱乐部）在2023赛季中超联赛中夺冠了！他们取得了非常棒的成绩，是2023赛季中超联赛的绝对霸主！ 

恭喜申花队！ 🎉

您对申花队有什么看法呢？ 他们的夺冠对您来说意味着什么？]]></Content>
</xml>
2025-06-14 14:35:02 | INFO     | src.wechat_official:handle_webhook:484 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749882902</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[是的！申花（上海上港足球俱乐部）在2023赛季中超联赛中夺冠了！他们取得了非常棒的成绩，是2023赛季中超联赛的绝对霸主！ 

恭喜申花队！ 🎉

您对申花队有什么看法呢？ 他们的夺冠对您来说意味着什么？]]></Content>
</xml>
2025-06-14 14:36:12 | INFO     | src.wechat_official:handle_webhook:386 - 收到POST请求，加密类型: 
2025-06-14 14:36:12 | INFO     | src.wechat_official:handle_webhook:407 - 明文模式消息，跳过签名验证
2025-06-14 14:36:12 | INFO     | src.wechat_official:handle_webhook:416 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:36:12 | INFO     | src.wechat_official:handle_webhook:446 - 消息长度: 4, 消息类型: 简单, 超时设置: 6.0秒
2025-06-14 14:36:12 | INFO     | src.wechat_official:handle_message:277 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:36:12 | INFO     | src.wechat_official:handle_message:293 - 收到消息内容: 顾杰是谁
2025-06-14 14:36:12 | INFO     | src.wechat_official:handle_message:315 - 简单消息，使用阻塞模式处理，长度: 4
2025-06-14 14:36:17 | INFO     | src.wechat_official:handle_webhook:386 - 收到POST请求，加密类型: 
2025-06-14 14:36:17 | INFO     | src.wechat_official:handle_webhook:407 - 明文模式消息，跳过签名验证
2025-06-14 14:36:17 | INFO     | src.wechat_official:handle_webhook:416 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:36:17 | INFO     | src.wechat_official:handle_webhook:421 - 消息已处理过，跳过: 25052302398245115
2025-06-14 14:36:18 | WARNING  | src.wechat_official:handle_webhook:455 - 消息处理超时，返回固定提示
2025-06-14 14:36:18 | INFO     | src.wechat_official:handle_webhook:467 - 准备返回回复，长度: 279
2025-06-14 14:36:18 | INFO     | src.wechat_official:handle_webhook:468 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749882978</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:36:18 | INFO     | src.wechat_official:handle_webhook:484 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749882978</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:40:01 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 14:40:01 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 14:40:01 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 14:40:18 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:40:18 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:40:18 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:40:18 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.5秒
2025-06-14 14:40:18 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:40:18 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你好
2025-06-14 14:40:18 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 14:40:23 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 14:40:23 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 279
2025-06-14 14:40:23 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749883223</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:40:23 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749883223</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:41:59 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 14:41:59 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 14:41:59 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 14:42:14 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:42:14 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:42:14 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_early_cut
2025-06-14 14:42:14 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.0秒
2025-06-14 14:42:14 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_early_cut
2025-06-14 14:42:14 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你好
2025-06-14 14:42:14 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 14:42:16 | INFO     | src.dify_client:chat_completion_streaming:227 - 收到首个数据块，耗时0.00秒
2025-06-14 14:42:17 | INFO     | src.dify_client:chat_completion_streaming:251 - Dify API流式调用成功，用户: test_early_cut
2025-06-14 14:42:17 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: test_early_cut, 回复: 你好！很高兴认识你。
...
2025-06-14 14:42:17 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 228
2025-06-14 14:42:17 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_early_cut]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749883337</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！很高兴认识你。
]]></Content>
</xml>
2025-06-14 14:42:17 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_early_cut]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749883337</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！很高兴认识你。
]]></Content>
</xml>
2025-06-14 14:42:38 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:42:38 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:42:38 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_long_reply
2025-06-14 14:42:38 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 23, 超时设置: 4.0秒
2025-06-14 14:42:38 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_long_reply
2025-06-14 14:42:38 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 请详细介绍一下Python编程语言的特点和优势
2025-06-14 14:42:38 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 23
2025-06-14 14:42:42 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 14:42:42 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 258
2025-06-14 14:42:42 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_long_reply]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749883362</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:42:42 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_long_reply]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749883362</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:43:01 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:43:01 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:43:01 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_medium
2025-06-14 14:43:01 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 9, 超时设置: 4.0秒
2025-06-14 14:43:01 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_medium
2025-06-14 14:43:01 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 介绍一下AI的应用
2025-06-14 14:43:01 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 9
2025-06-14 14:43:04 | INFO     | src.dify_client:chat_completion_streaming:227 - 收到首个数据块，耗时0.00秒
2025-06-14 14:43:04 | INFO     | src.dify_client:chat_completion_streaming:238 - 流式响应早期截断，已收到28字符，耗时0.50秒
2025-06-14 14:43:04 | INFO     | src.dify_client:chat_completion_streaming:251 - Dify API流式调用成功，用户: test_medium
2025-06-14 14:43:04 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: test_medium, 回复: 我不太确定您具体想了解哪些AI应用。AI的应用非常广泛，...
2025-06-14 14:43:04 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 242
2025-06-14 14:43:04 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_medium]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749883384</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我不太确定您具体想了解哪些AI应用。AI的应用非常广泛，]]></Content>
</xml>
2025-06-14 14:43:04 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_medium]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749883384</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我不太确定您具体想了解哪些AI应用。AI的应用非常广泛，]]></Content>
</xml>
2025-06-14 14:43:48 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:43:48 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:43:48 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_simple
2025-06-14 14:43:48 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.0秒
2025-06-14 14:43:48 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_simple
2025-06-14 14:43:48 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 谢谢
2025-06-14 14:43:48 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 14:43:52 | INFO     | src.dify_client:chat_completion_streaming:227 - 收到首个数据块，耗时0.00秒
2025-06-14 14:43:52 | INFO     | src.dify_client:chat_completion_streaming:251 - Dify API流式调用成功，用户: test_simple
2025-06-14 14:43:52 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: test_simple, 回复: 不客气！
...
2025-06-14 14:43:52 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 219
2025-06-14 14:43:52 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_simple]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749883432</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[不客气！
]]></Content>
</xml>
2025-06-14 14:43:52 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_simple]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749883432</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[不客气！
]]></Content>
</xml>
2025-06-14 14:45:09 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:45:09 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:45:09 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:45:09 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 4, 超时设置: 4.0秒
2025-06-14 14:45:09 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:45:09 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你是谁？
2025-06-14 14:45:09 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 4
2025-06-14 14:45:12 | INFO     | src.dify_client:chat_completion_streaming:227 - 收到首个数据块，耗时0.00秒
2025-06-14 14:45:12 | INFO     | src.dify_client:chat_completion_streaming:251 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:45:12 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 我是张瑛。...
2025-06-14 14:45:12 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 244
2025-06-14 14:45:12 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749883512</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我是张瑛。]]></Content>
</xml>
2025-06-14 14:45:12 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749883512</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我是张瑛。]]></Content>
</xml>
2025-06-14 14:45:21 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:45:21 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:45:21 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:45:21 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 6, 超时设置: 4.0秒
2025-06-14 14:45:21 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:45:21 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你偶像是谁？
2025-06-14 14:45:21 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 6
2025-06-14 14:45:24 | INFO     | src.dify_client:chat_completion_streaming:227 - 收到首个数据块，耗时0.00秒
2025-06-14 14:45:24 | INFO     | src.dify_client:chat_completion_streaming:251 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:45:24 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 我偶像是邓为。...
2025-06-14 14:45:24 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 246
2025-06-14 14:45:24 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749883524</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我偶像是邓为。]]></Content>
</xml>
2025-06-14 14:45:24 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749883524</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我偶像是邓为。]]></Content>
</xml>
2025-06-14 14:45:32 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:45:32 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:45:32 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:45:32 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 9, 超时设置: 4.0秒
2025-06-14 14:45:32 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:45:32 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你女儿叫什么名字？
2025-06-14 14:45:32 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 9
2025-06-14 14:45:36 | INFO     | src.dify_client:chat_completion_streaming:227 - 收到首个数据块，耗时0.00秒
2025-06-14 14:45:36 | INFO     | src.dify_client:chat_completion_streaming:251 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:45:36 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 我女儿叫顾佳恩。...
2025-06-14 14:45:36 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 247
2025-06-14 14:45:36 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749883536</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我女儿叫顾佳恩。]]></Content>
</xml>
2025-06-14 14:45:36 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749883536</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我女儿叫顾佳恩。]]></Content>
</xml>
2025-06-14 14:45:43 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:45:43 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:45:43 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:45:43 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 7, 超时设置: 4.0秒
2025-06-14 14:45:43 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:45:43 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你爱好是什么？
2025-06-14 14:45:43 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 7
2025-06-14 14:45:46 | INFO     | src.dify_client:chat_completion_streaming:227 - 收到首个数据块，耗时0.00秒
2025-06-14 14:45:46 | INFO     | src.dify_client:chat_completion_streaming:251 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:45:46 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 我爱好是拉屎。...
2025-06-14 14:45:46 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 246
2025-06-14 14:45:46 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749883546</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我爱好是拉屎。]]></Content>
</xml>
2025-06-14 14:45:46 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749883546</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我爱好是拉屎。]]></Content>
</xml>
2025-06-14 14:46:10 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:46:10 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:46:10 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:46:10 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 10, 超时设置: 4.0秒
2025-06-14 14:46:10 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:46:10 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你爱拉屎还是爱邓为。
2025-06-14 14:46:10 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 10
2025-06-14 14:46:14 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 14:46:14 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 279
2025-06-14 14:46:14 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749883574</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:46:14 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749883574</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:51:36 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 14:51:36 | INFO     | src.app:create_app:110 - FastAPI应用创建成功
2025-06-14 14:51:36 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 14:51:50 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:51:50 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:51:50 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_simple_new
2025-06-14 14:51:50 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.8秒
2025-06-14 14:51:50 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_simple_new
2025-06-14 14:51:50 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你好
2025-06-14 14:51:50 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 14:51:55 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 14:51:55 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 258
2025-06-14 14:51:55 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_simple_new]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749883915</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:51:55 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_simple_new]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749883915</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:52:48 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 14:52:48 | INFO     | src.app:create_app:134 - FastAPI应用创建成功
2025-06-14 14:52:48 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 14:52:58 | INFO     | src.dify_client:chat_completion_streaming:228 - 收到首个数据块，耗时0.00秒
2025-06-14 14:52:58 | INFO     | src.dify_client:chat_completion_streaming:267 - Dify API流式调用成功，用户: test_direct，首字节0.00秒
2025-06-14 14:54:59 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:54:59 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:54:59 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:54:59 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.8秒
2025-06-14 14:54:59 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:54:59 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hi
2025-06-14 14:54:59 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 14:55:03 | INFO     | src.dify_client:chat_completion_streaming:228 - 收到首个数据块，耗时0.00秒
2025-06-14 14:55:03 | INFO     | src.dify_client:chat_completion_streaming:267 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU，首字节0.00秒
2025-06-14 14:55:03 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Hi there! How can I help you today?...
2025-06-14 14:55:03 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 274
2025-06-14 14:55:03 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884103</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hi there! How can I help you today?]]></Content>
</xml>
2025-06-14 14:55:03 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884103</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hi there! How can I help you today?]]></Content>
</xml>
2025-06-14 14:55:25 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:55:25 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:55:25 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:55:25 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 4, 超时设置: 4.8秒
2025-06-14 14:55:25 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:55:25 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 邓为是谁
2025-06-14 14:55:25 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 4
2025-06-14 14:55:29 | INFO     | src.dify_client:chat_completion_streaming:228 - 收到首个数据块，耗时0.00秒
2025-06-14 14:55:29 | INFO     | src.dify_client:chat_completion_streaming:267 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU，首字节0.00秒
2025-06-14 14:55:29 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: I don’t know who Deng Wei is....
2025-06-14 14:55:29 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 268
2025-06-14 14:55:29 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884129</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[I don’t know who Deng Wei is.]]></Content>
</xml>
2025-06-14 14:55:29 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884129</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[I don’t know who Deng Wei is.]]></Content>
</xml>
2025-06-14 14:57:18 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:57:18 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:57:18 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:57:18 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.8秒
2025-06-14 14:57:18 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:57:18 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 顾杰
2025-06-14 14:57:18 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 14:57:22 | INFO     | src.dify_client:chat_completion_streaming:228 - 收到首个数据块，耗时0.00秒
2025-06-14 14:57:23 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 14:57:23 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 279
2025-06-14 14:57:23 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884243</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:57:23 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884243</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:57:23 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:57:23 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:57:23 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:57:23 | INFO     | src.wechat_official:handle_webhook:359 - 消息已处理过，跳过: 25052318101903438
2025-06-14 14:57:41 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:57:41 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:57:41 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: voice from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:57:41 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 0, 超时设置: 4.8秒
2025-06-14 14:57:41 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: voice, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:57:41 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 254
2025-06-14 14:57:41 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884261</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[抱歉，我目前只能处理文本消息。]]></Content>
</xml>
2025-06-14 14:57:41 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884261</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[抱歉，我目前只能处理文本消息。]]></Content>
</xml>
2025-06-14 14:58:05 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:58:05 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:58:05 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:58:05 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.8秒
2025-06-14 14:58:05 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:58:05 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 顾杰
2025-06-14 14:58:05 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 14:58:09 | INFO     | src.dify_client:chat_completion_streaming:228 - 收到首个数据块，耗时0.00秒
2025-06-14 14:58:09 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 14:58:09 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 279
2025-06-14 14:58:09 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884289</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:58:09 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884289</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 14:58:10 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 14:58:10 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 14:58:10 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 14:58:10 | INFO     | src.wechat_official:handle_webhook:359 - 消息已处理过，跳过: 25052316889571182
2025-06-14 14:59:39 | ERROR    | src.dify_client:chat_completion_streaming:276 - Dify API流式调用超时，用户: test_complex
2025-06-14 15:00:10 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 15:00:10 | INFO     | src.app:create_app:134 - FastAPI应用创建成功
2025-06-14 15:00:10 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 15:00:31 | ERROR    | src.dify_client:chat_completion_streaming:276 - Dify API流式调用超时，用户: test_simple
2025-06-14 15:01:25 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:01:25 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:01:25 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_new_strategy
2025-06-14 15:01:25 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.8秒
2025-06-14 15:01:25 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_new_strategy
2025-06-14 15:01:25 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你好
2025-06-14 15:01:25 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 15:01:26 | INFO     | src.dify_client:chat_completion_streaming:228 - 收到首个数据块，耗时0.00秒
2025-06-14 15:01:27 | INFO     | src.dify_client:chat_completion_streaming:267 - Dify API流式调用成功，用户: test_new_strategy，首字节0.00秒
2025-06-14 15:01:27 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: test_new_strategy, 回复: 你好！很高兴和你聊天。有什么我可以帮助你的吗？
...
2025-06-14 15:01:27 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 244
2025-06-14 15:01:27 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_new_strategy]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749884487</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！很高兴和你聊天。有什么我可以帮助你的吗？
]]></Content>
</xml>
2025-06-14 15:01:27 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_new_strategy]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749884487</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！很高兴和你聊天。有什么我可以帮助你的吗？
]]></Content>
</xml>
2025-06-14 15:01:50 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:01:50 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:01:50 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_complex_emoji
2025-06-14 15:01:50 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 57, 超时设置: 4.8秒
2025-06-14 15:01:50 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_complex_emoji
2025-06-14 15:01:50 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 请详细分析人工智能在医疗、教育、金融、交通、制造业等各个行业的应用现状、技术挑战、发展趋势以及对社会经济的深远影响
2025-06-14 15:01:50 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 57
2025-06-14 15:01:51 | INFO     | src.dify_client:chat_completion_streaming:228 - 收到首个数据块，耗时0.00秒
2025-06-14 15:01:54 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 15:01:54 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 261
2025-06-14 15:01:54 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_complex_emoji]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749884514</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 15:01:54 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_complex_emoji]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749884514</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 15:04:07 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 15:04:07 | INFO     | src.app:create_app:134 - FastAPI应用创建成功
2025-06-14 15:04:07 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 15:04:23 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:04:23 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:04:23 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_simple_fixed
2025-06-14 15:04:23 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.8秒
2025-06-14 15:04:23 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_simple_fixed
2025-06-14 15:04:23 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你好
2025-06-14 15:04:23 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 15:04:24 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 15:04:24 | INFO     | src.dify_client:chat_completion_streaming:265 - Dify API流式调用成功，用户: test_simple_fixed，首字节0.00秒
2025-06-14 15:04:24 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: test_simple_fixed, 回复: 你好！很高兴和你聊天。有什么我可以帮你的吗？
...
2025-06-14 15:04:24 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 243
2025-06-14 15:04:24 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_simple_fixed]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749884664</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！很高兴和你聊天。有什么我可以帮你的吗？
]]></Content>
</xml>
2025-06-14 15:04:24 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_simple_fixed]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749884664</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！很高兴和你聊天。有什么我可以帮你的吗？
]]></Content>
</xml>
2025-06-14 15:04:34 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:04:34 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:04:34 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_complex_fun
2025-06-14 15:04:34 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 73, 超时设置: 4.8秒
2025-06-14 15:04:34 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_complex_fun
2025-06-14 15:04:34 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 请详细分析人工智能在医疗、教育、金融、交通、制造业等各个行业的应用现状、技术挑战、发展趋势以及对社会经济的深远影响，并提供具体的案例分析和数据支撑
2025-06-14 15:04:34 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 73
2025-06-14 15:04:35 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 15:04:39 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 15:04:39 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 259
2025-06-14 15:04:39 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_complex_fun]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749884679</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 15:04:39 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_complex_fun]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749884679</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔请稍后重新发送消息，或者尝试简化您的问题。]]></Content>
</xml>
2025-06-14 15:07:12 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 15:07:12 | INFO     | src.app:create_app:134 - FastAPI应用创建成功
2025-06-14 15:07:12 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 15:07:26 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:07:26 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:07:26 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:07:26 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 3, 超时设置: 4.8秒
2025-06-14 15:07:26 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:07:26 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 肚子饿
2025-06-14 15:07:26 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 3
2025-06-14 15:07:27 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 15:07:30 | INFO     | src.dify_client:chat_completion_streaming:265 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU，首字节0.00秒
2025-06-14 15:07:30 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 肚子饿了啊！有什么想吃的吗？

*   **想吃点什么？** (例如：水果、零食、主食、点心等等)
...
2025-06-14 15:07:30 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 377
2025-06-14 15:07:30 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884850</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[肚子饿了啊！有什么想吃的吗？

*   **想吃点什么？** (例如：水果、零食、主食、点心等等)
*   **想自己做还是出去吃？**
*   **想吃什么样的口味？** (例如：甜的、咸的、辣的、清淡的等等)

告诉我你的想法，我可以帮你推荐一些食物或者提供一些建议。 
]]></Content>
</xml>
2025-06-14 15:07:30 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884850</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[肚子饿了啊！有什么想吃的吗？

*   **想吃点什么？** (例如：水果、零食、主食、点心等等)
*   **想自己做还是出去吃？**
*   **想吃什么样的口味？** (例如：甜的、咸的、辣的、清淡的等等)

告诉我你的想法，我可以帮你推荐一些食物或者提供一些建议。 
]]></Content>
</xml>
2025-06-14 15:07:42 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:07:42 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:07:42 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:07:42 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 4, 超时设置: 4.8秒
2025-06-14 15:07:42 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:07:42 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 顾杰是谁
2025-06-14 15:07:42 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 4
2025-06-14 15:07:42 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 15:07:46 | INFO     | src.dify_client:chat_completion_streaming:265 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU，首字节0.00秒
2025-06-14 15:07:46 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 顾杰是腾讯视频的著名主播，以前在腾讯视频APP上直播，以其极具个性的风格和幽默的口头禅“笑一笑，多快...
2025-06-14 15:07:46 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 420
2025-06-14 15:07:46 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884866</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[顾杰是腾讯视频的著名主播，以前在腾讯视频APP上直播，以其极具个性的风格和幽默的口头禅“笑一笑，多快”而闻名。

他以直播“吃播”闻名，经常直播自己吃各种美食，而且非常搞笑，经常会说一些让人忍俊不禁的话。

虽然他已经不再在腾讯视频上直播，但“笑一笑，多快”这个口头禅仍然被很多人记住，也成为了一个网络流行语。

你可能指的是他吧？  想了解更多关于他的信息吗？]]></Content>
</xml>
2025-06-14 15:07:46 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884866</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[顾杰是腾讯视频的著名主播，以前在腾讯视频APP上直播，以其极具个性的风格和幽默的口头禅“笑一笑，多快”而闻名。

他以直播“吃播”闻名，经常直播自己吃各种美食，而且非常搞笑，经常会说一些让人忍俊不禁的话。

虽然他已经不再在腾讯视频上直播，但“笑一笑，多快”这个口头禅仍然被很多人记住，也成为了一个网络流行语。

你可能指的是他吧？  想了解更多关于他的信息吗？]]></Content>
</xml>
2025-06-14 15:08:08 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:08:08 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:08:08 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:08:08 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 5, 超时设置: 4.8秒
2025-06-14 15:08:08 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:08:08 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 顾杰是谁？
2025-06-14 15:08:08 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 5
2025-06-14 15:08:09 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 15:08:13 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 15:08:13 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 250
2025-06-14 15:08:13 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884893</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 15:08:13 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884893</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 15:09:11 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:09:11 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:09:11 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:09:11 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 3, 超时设置: 4.8秒
2025-06-14 15:09:11 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:09:11 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你是？
2025-06-14 15:09:11 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 3
2025-06-14 15:09:13 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 15:09:15 | INFO     | src.dify_client:chat_completion_streaming:265 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU，首字节0.00秒
2025-06-14 15:09:15 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 我是一个大型语言模型，由 Google 训练。 

你可以把我理解成一个非常聪明的聊天机器人。 我可...
2025-06-14 15:09:15 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 403
2025-06-14 15:09:15 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884955</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我是一个大型语言模型，由 Google 训练。 

你可以把我理解成一个非常聪明的聊天机器人。 我可以：

*   回答你的问题
*   生成各种类型的文本内容，比如诗歌、代码、剧本、音乐作品、电子邮件、信件等等。
*   翻译语言
*   总结文本
*   进行创意写作

我还在不断学习和进步中！ 你想和我聊些什么呢？ 😊
]]></Content>
</xml>
2025-06-14 15:09:15 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884955</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我是一个大型语言模型，由 Google 训练。 

你可以把我理解成一个非常聪明的聊天机器人。 我可以：

*   回答你的问题
*   生成各种类型的文本内容，比如诗歌、代码、剧本、音乐作品、电子邮件、信件等等。
*   翻译语言
*   总结文本
*   进行创意写作

我还在不断学习和进步中！ 你想和我聊些什么呢？ 😊
]]></Content>
</xml>
2025-06-14 15:09:16 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:09:16 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:09:16 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:09:16 | INFO     | src.wechat_official:handle_webhook:359 - 消息已处理过，跳过: 25052326747712150
2025-06-14 15:09:32 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:09:32 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:09:32 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:09:32 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.8秒
2025-06-14 15:09:32 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:09:32 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hi
2025-06-14 15:09:32 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 15:09:34 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 15:09:35 | INFO     | src.dify_client:chat_completion_streaming:265 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU，首字节0.00秒
2025-06-14 15:09:35 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Hi there! How’s it going today? 😊 

Is there anyth...
2025-06-14 15:09:35 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 349
2025-06-14 15:09:35 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884975</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hi there! How’s it going today? 😊 

Is there anything you’d like to chat about, or were you just saying hello?]]></Content>
</xml>
2025-06-14 15:09:35 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884975</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hi there! How’s it going today? 😊 

Is there anything you’d like to chat about, or were you just saying hello?]]></Content>
</xml>
2025-06-14 15:09:52 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:09:52 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:09:52 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:09:52 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 6, 超时设置: 4.8秒
2025-06-14 15:09:52 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:09:52 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 中国面积多大
2025-06-14 15:09:52 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 6
2025-06-14 15:09:53 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 15:09:56 | INFO     | src.dify_client:chat_completion_streaming:265 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU，首字节0.00秒
2025-06-14 15:09:56 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 中国（包括香港、澳门和台湾）的总面积大约是 **960万平方公里** (370万平方英里)。

* ...
2025-06-14 15:09:56 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 419
2025-06-14 15:09:56 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884996</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[中国（包括香港、澳门和台湾）的总面积大约是 **960万平方公里** (370万平方英里)。

*   **中国大陆**约占919万平方公里。
*   **香港**面积约1100平方公里。
*   **澳门**面积约为33平方公里。

这个数字一直在变，因为中国不断进行土地调整和重新划分。 

你还想知道关于中国面积的其他信息吗？ 比如，它排在世界哪个国家？]]></Content>
</xml>
2025-06-14 15:09:56 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749884996</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[中国（包括香港、澳门和台湾）的总面积大约是 **960万平方公里** (370万平方英里)。

*   **中国大陆**约占919万平方公里。
*   **香港**面积约1100平方公里。
*   **澳门**面积约为33平方公里。

这个数字一直在变，因为中国不断进行土地调整和重新划分。 

你还想知道关于中国面积的其他信息吗？ 比如，它排在世界哪个国家？]]></Content>
</xml>
2025-06-14 15:09:56 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:09:56 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:09:56 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:09:56 | INFO     | src.wechat_official:handle_webhook:359 - 消息已处理过，跳过: 25052327816267616
2025-06-14 15:10:17 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:10:17 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:10:17 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:10:17 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 6, 超时设置: 4.8秒
2025-06-14 15:10:17 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:10:17 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 中国面积多大
2025-06-14 15:10:17 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 6
2025-06-14 15:10:19 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 15:10:20 | INFO     | src.dify_client:chat_completion_streaming:265 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU，首字节0.00秒
2025-06-14 15:10:20 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 中国总面积约为 **960万平方公里** (370万平方英里)。 

要记住，这包括了中国大陆、香港...
2025-06-14 15:10:20 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 308
2025-06-14 15:10:20 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749885020</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[中国总面积约为 **960万平方公里** (370万平方英里)。 

要记住，这包括了中国大陆、香港和澳门。 😊 

还有什么想问的吗？
]]></Content>
</xml>
2025-06-14 15:10:20 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749885020</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[中国总面积约为 **960万平方公里** (370万平方英里)。 

要记住，这包括了中国大陆、香港和澳门。 😊 

还有什么想问的吗？
]]></Content>
</xml>
2025-06-14 15:10:28 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:10:28 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:10:28 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:10:28 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 3, 超时设置: 4.8秒
2025-06-14 15:10:28 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:10:28 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 日本呢
2025-06-14 15:10:28 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 3
2025-06-14 15:10:29 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 15:10:32 | INFO     | src.dify_client:chat_completion_streaming:265 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU，首字节0.00秒
2025-06-14 15:10:32 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 日本的面积大约是 **378,000平方公里** (146,000平方英里)。

它是一个岛国，主要...
2025-06-14 15:10:32 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 347
2025-06-14 15:10:32 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749885032</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[日本的面积大约是 **378,000平方公里** (146,000平方英里)。

它是一个岛国，主要由四个主要岛屿组成：本州、北海道、四国和九州。

想知道更多关于日本的信息吗？ 比如它的地理位置、人口、或者文化呢？]]></Content>
</xml>
2025-06-14 15:10:32 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749885032</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[日本的面积大约是 **378,000平方公里** (146,000平方英里)。

它是一个岛国，主要由四个主要岛屿组成：本州、北海道、四国和九州。

想知道更多关于日本的信息吗？ 比如它的地理位置、人口、或者文化呢？]]></Content>
</xml>
2025-06-14 15:10:47 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:10:47 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:10:47 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:10:47 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 4, 超时设置: 4.8秒
2025-06-14 15:10:47 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:10:47 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 顾杰是？
2025-06-14 15:10:47 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 4
2025-06-14 15:10:49 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 15:10:51 | INFO     | src.dify_client:chat_completion_streaming:265 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU，首字节0.00秒
2025-06-14 15:10:51 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 顾杰是一位曾经非常受欢迎的中国网络主播，尤其以其在腾讯视频上的“吃播”直播而闻名。 他以其独特的口头...
2025-06-14 15:10:51 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 370
2025-06-14 15:10:51 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749885051</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[顾杰是一位曾经非常受欢迎的中国网络主播，尤其以其在腾讯视频上的“吃播”直播而闻名。 他以其独特的口头禅 “笑一笑，多快” 迅速走红网络，成为了一个标志性的网络现象。

虽然他现在已经不活跃了，但他依然被许多人记得。 

希望这个回答对你有帮助！你还有其他问题吗？]]></Content>
</xml>
2025-06-14 15:10:51 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749885051</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[顾杰是一位曾经非常受欢迎的中国网络主播，尤其以其在腾讯视频上的“吃播”直播而闻名。 他以其独特的口头禅 “笑一笑，多快” 迅速走红网络，成为了一个标志性的网络现象。

虽然他现在已经不活跃了，但他依然被许多人记得。 

希望这个回答对你有帮助！你还有其他问题吗？]]></Content>
</xml>
2025-06-14 15:11:41 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:11:41 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:11:41 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:11:41 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 4, 超时设置: 4.8秒
2025-06-14 15:11:41 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:11:41 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 顾杰是？
2025-06-14 15:11:41 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 4
2025-06-14 15:11:45 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 15:11:46 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:11:46 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:11:46 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:11:46 | INFO     | src.wechat_official:handle_webhook:359 - 消息已处理过，跳过: 25052332872623570
2025-06-14 15:11:46 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 15:11:46 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 250
2025-06-14 15:11:46 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749885106</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 15:11:46 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749885106</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 15:11:58 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 15:11:58 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 15:11:58 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:11:58 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 4, 超时设置: 4.8秒
2025-06-14 15:11:58 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 15:11:58 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 顾杰是？
2025-06-14 15:11:58 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 4
2025-06-14 15:11:59 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 15:12:02 | INFO     | src.dify_client:chat_completion_streaming:265 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU，首字节0.00秒
2025-06-14 15:12:02 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 顾杰是一位曾经在中国腾讯视频上非常著名的吃播主播。他以其独特的口头禅“笑一笑，多快”而闻名，这句口头...
2025-06-14 15:12:02 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 379
2025-06-14 15:12:02 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749885122</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[顾杰是一位曾经在中国腾讯视频上非常著名的吃播主播。他以其独特的口头禅“笑一笑，多快”而闻名，这句口头禅迅速在网络上流行开来，成为了一个标志性的网络现象。 

虽然他已经不再活跃在腾讯视频上，但“笑一笑，多快”依然被很多人记得。

希望这个回答对你有所帮助！ 你还有什么想问的吗？
]]></Content>
</xml>
2025-06-14 15:12:02 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749885122</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[顾杰是一位曾经在中国腾讯视频上非常著名的吃播主播。他以其独特的口头禅“笑一笑，多快”而闻名，这句口头禅迅速在网络上流行开来，成为了一个标志性的网络现象。 

虽然他已经不再活跃在腾讯视频上，但“笑一笑，多快”依然被很多人记得。

希望这个回答对你有所帮助！ 你还有什么想问的吗？
]]></Content>
</xml>
2025-06-14 16:21:58 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 16:21:58 | INFO     | src.app:create_app:134 - FastAPI应用创建成功
2025-06-14 16:21:58 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 16:22:31 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:22:31 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:22:31 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:22:31 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.8秒
2025-06-14 16:22:31 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:22:31 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hi
2025-06-14 16:22:31 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 16:22:34 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 16:22:35 | INFO     | src.dify_client:chat_completion_streaming:265 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU，首字节0.00秒
2025-06-14 16:22:35 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Hi there! How’s it going today? 😊 

Is there anyth...
2025-06-14 16:22:35 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 318
2025-06-14 16:22:35 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889355</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hi there! How’s it going today? 😊 

Is there anything you’d like to chat about?]]></Content>
</xml>
2025-06-14 16:22:35 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889355</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hi there! How’s it going today? 😊 

Is there anything you’d like to chat about?]]></Content>
</xml>
2025-06-14 16:22:57 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:22:57 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:22:57 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:22:57 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 15, 超时设置: 4.8秒
2025-06-14 16:22:57 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:22:57 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 为什么要部署Dify测试环境？
2025-06-14 16:22:57 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 15
2025-06-14 16:22:59 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 16:23:02 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 16:23:02 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 250
2025-06-14 16:23:02 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889382</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 16:23:02 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889382</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 16:23:54 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:23:54 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:23:54 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:23:54 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 12, 超时设置: 4.8秒
2025-06-14 16:23:54 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:23:54 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 松下信息系统有限公司介绍
2025-06-14 16:23:54 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 12
2025-06-14 16:23:58 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 16:23:59 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 16:23:59 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 250
2025-06-14 16:23:59 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889439</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 16:23:59 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889439</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 16:24:11 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:24:11 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:24:11 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:24:11 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 4, 超时设置: 4.8秒
2025-06-14 16:24:11 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:24:11 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你是谁？
2025-06-14 16:24:11 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 4
2025-06-14 16:24:14 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 16:24:16 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 16:24:16 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 250
2025-06-14 16:24:16 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889456</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 16:24:16 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889456</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 16:24:28 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:24:28 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:24:28 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:24:28 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 5, 超时设置: 4.8秒
2025-06-14 16:24:28 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:24:28 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你在干吗？
2025-06-14 16:24:28 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 5
2025-06-14 16:24:31 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 16:24:32 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 16:24:32 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 250
2025-06-14 16:24:32 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889472</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 16:24:32 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889472</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 16:24:35 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:24:35 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:24:35 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:24:35 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.8秒
2025-06-14 16:24:35 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:24:35 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: hi
2025-06-14 16:24:35 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 16:24:38 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 16:24:40 | INFO     | src.dify_client:chat_completion_streaming:265 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU，首字节0.00秒
2025-06-14 16:24:40 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Hi there! How’s it going? 😊 

What’s on your mind ...
2025-06-14 16:24:40 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 377
2025-06-14 16:24:40 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889480</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hi there! How’s it going? 😊 

What’s on your mind today? Do you want to chat about something specific, or just have a casual conversation?]]></Content>
</xml>
2025-06-14 16:24:40 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889480</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Hi there! How’s it going? 😊 

What’s on your mind today? Do you want to chat about something specific, or just have a casual conversation?]]></Content>
</xml>
2025-06-14 16:24:53 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:24:53 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:24:53 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:24:53 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 12, 超时设置: 4.8秒
2025-06-14 16:24:53 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:24:53 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: who are you？
2025-06-14 16:24:53 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 12
2025-06-14 16:24:53 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 16:24:56 | INFO     | src.dify_client:chat_completion_streaming:265 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU，首字节0.00秒
2025-06-14 16:24:56 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: I’m Gemma, a large language model created by the G...
2025-06-14 16:24:56 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 569
2025-06-14 16:24:56 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889496</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[I’m Gemma, a large language model created by the Gemma team at Google DeepMind. I’m an open-weights model, which means I’m widely available for public use! 

Essentially, I’m here to help you with a wide range of tasks involving text – from answering your questions to generating creative content. 😊 

What can I do for you today?]]></Content>
</xml>
2025-06-14 16:24:56 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889496</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[I’m Gemma, a large language model created by the Gemma team at Google DeepMind. I’m an open-weights model, which means I’m widely available for public use! 

Essentially, I’m here to help you with a wide range of tasks involving text – from answering your questions to generating creative content. 😊 

What can I do for you today?]]></Content>
</xml>
2025-06-14 16:25:05 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:25:05 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:25:05 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:25:05 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 5, 超时设置: 4.8秒
2025-06-14 16:25:05 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:25:05 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: Can 有
2025-06-14 16:25:05 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 5
2025-06-14 16:25:07 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 16:25:08 | INFO     | src.dify_client:chat_completion_streaming:265 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU，首字节0.00秒
2025-06-14 16:25:08 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: Okay! “有” (yǒu) means “have” or “there is/are” in ...
2025-06-14 16:25:08 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 414
2025-06-14 16:25:08 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889508</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Okay! “有” (yǒu) means “have” or “there is/are” in Chinese. 

Is there anything specific you’d like to talk about related to “有”?  Or were you just saying you have something? 😊]]></Content>
</xml>
2025-06-14 16:25:08 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889508</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Okay! “有” (yǒu) means “have” or “there is/are” in Chinese. 

Is there anything specific you’d like to talk about related to “有”?  Or were you just saying you have something? 😊]]></Content>
</xml>
2025-06-14 16:26:24 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:26:24 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:26:24 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:26:24 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 7, 超时设置: 4.8秒
2025-06-14 16:26:24 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:26:24 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你会说中文吗？
2025-06-14 16:26:24 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 7
2025-06-14 16:26:26 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 16:26:28 | INFO     | src.dify_client:chat_completion_streaming:265 - Dify API流式调用成功，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU，首字节0.00秒
2025-06-14 16:26:28 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 是的，我会说中文！ 我还在不断学习和进步中。 你想用中文和我聊天吗？ 😊 

(Yes, I can...
2025-06-14 16:26:28 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 393
2025-06-14 16:26:28 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889588</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[是的，我会说中文！ 我还在不断学习和进步中。 你想用中文和我聊天吗？ 😊 

(Yes, I can speak Chinese! I’m still constantly learning and improving. Would you like to chat with me in Chinese?)]]></Content>
</xml>
2025-06-14 16:26:28 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889588</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[是的，我会说中文！ 我还在不断学习和进步中。 你想用中文和我聊天吗？ 😊 

(Yes, I can speak Chinese! I’m still constantly learning and improving. Would you like to chat with me in Chinese?)]]></Content>
</xml>
2025-06-14 16:26:55 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:26:55 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:26:55 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:26:55 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 5, 超时设置: 4.8秒
2025-06-14 16:26:55 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:26:55 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 鲁迅是谁？
2025-06-14 16:26:55 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 5
2025-06-14 16:26:56 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 16:27:00 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 16:27:00 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 250
2025-06-14 16:27:00 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889620</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 16:27:00 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889620</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 16:27:00 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:27:00 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:27:00 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:27:00 | INFO     | src.wechat_official:handle_webhook:359 - 消息已处理过，跳过: 25052394456649889
2025-06-14 16:28:05 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:28:05 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:28:05 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:28:05 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 5, 超时设置: 4.8秒
2025-06-14 16:28:05 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:28:05 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 鲁迅是谁？
2025-06-14 16:28:05 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 5
2025-06-14 16:28:09 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 16:28:10 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 16:28:10 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 250
2025-06-14 16:28:10 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889690</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 16:28:10 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889690</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 16:29:13 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:29:13 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:29:13 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:29:13 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 17, 超时设置: 4.8秒
2025-06-14 16:29:13 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:29:13 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 广莲申为什么是GLZ，而不是GLS
2025-06-14 16:29:13 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 17
2025-06-14 16:29:18 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 16:29:18 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 16:29:18 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 250
2025-06-14 16:29:18 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889758</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 16:29:18 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889758</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 16:29:18 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:29:18 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:29:18 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:29:18 | INFO     | src.wechat_official:handle_webhook:359 - 消息已处理过，跳过: 25052397500922963
2025-06-14 16:29:38 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:29:38 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:29:38 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:29:38 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 17, 超时设置: 4.8秒
2025-06-14 16:29:38 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:29:38 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 广莲申为什么是GLZ，而不是GLS
2025-06-14 16:29:38 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 17
2025-06-14 16:29:43 | INFO     | src.dify_client:process_stream:233 - 收到首个数据块，耗时0.00秒
2025-06-14 16:29:43 | WARNING  | src.wechat_official:handle_webhook:388 - 消息处理超时，返回固定提示
2025-06-14 16:29:43 | INFO     | src.wechat_official:handle_webhook:400 - 准备返回回复，长度: 250
2025-06-14 16:29:43 | INFO     | src.wechat_official:handle_webhook:401 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889783</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 16:29:43 | INFO     | src.wechat_official:handle_webhook:417 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749889783</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[我正在思考中... 🤔]]></Content>
</xml>
2025-06-14 16:32:19 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 16:32:19 | INFO     | src.app:create_app:134 - FastAPI应用创建成功
2025-06-14 16:32:19 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 16:32:33 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:32:33 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:32:33 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_simple_final
2025-06-14 16:32:33 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.5秒
2025-06-14 16:32:33 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_simple_final
2025-06-14 16:32:33 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你好
2025-06-14 16:32:33 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 16:32:35 | INFO     | src.dify_client:chat_completion_streaming:226 - 收到首个数据块，耗时0.00秒
2025-06-14 16:32:35 | INFO     | src.dify_client:chat_completion_streaming:236 - Dify API流式调用成功，用户: test_simple_final
2025-06-14 16:32:35 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: test_simple_final, 回复: 你好！很高兴认识你。有什么我可以帮助你的吗？
...
2025-06-14 16:32:35 | INFO     | src.wechat_official:handle_webhook:401 - 准备返回回复，长度: 243
2025-06-14 16:32:35 | INFO     | src.wechat_official:handle_webhook:402 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_simple_final]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749889955</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！很高兴认识你。有什么我可以帮助你的吗？
]]></Content>
</xml>
2025-06-14 16:32:35 | INFO     | src.wechat_official:handle_webhook:418 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_simple_final]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749889955</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！很高兴认识你。有什么我可以帮助你的吗？
]]></Content>
</xml>
2025-06-14 16:32:44 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:32:44 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:32:44 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_complex_final
2025-06-14 16:32:44 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 84, 超时设置: 4.5秒
2025-06-14 16:32:44 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_complex_final
2025-06-14 16:32:44 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 请详细分析人工智能在医疗、教育、金融、交通、制造业等各个行业的应用现状、技术挑战、发展趋势以及对社会经济的深远影响，并提供具体的案例分析和数据支撑，同时探讨AI伦理问题
2025-06-14 16:32:44 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 84
2025-06-14 16:32:44 | INFO     | src.dify_client:chat_completion_streaming:226 - 收到首个数据块，耗时0.00秒
2025-06-14 16:32:48 | WARNING  | src.wechat_official:handle_webhook:388 - 4.5秒截断触发
2025-06-14 16:32:48 | INFO     | src.wechat_official:handle_webhook:401 - 准备返回回复，长度: 263
2025-06-14 16:32:48 | INFO     | src.wechat_official:handle_webhook:402 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_complex_final]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749889968</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[哎呀，我的大脑有点卡顿了 🤔 可能是在思考太深奥的问题！要不换个简单点的问题试试？😊]]></Content>
</xml>
2025-06-14 16:32:48 | INFO     | src.wechat_official:handle_webhook:418 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_complex_final]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749889968</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[哎呀，我的大脑有点卡顿了 🤔 可能是在思考太深奥的问题！要不换个简单点的问题试试？😊]]></Content>
</xml>
2025-06-14 16:33:10 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:33:10 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:33:10 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_medium_final
2025-06-14 16:33:10 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 13, 超时设置: 4.5秒
2025-06-14 16:33:10 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_medium_final
2025-06-14 16:33:10 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 介绍一下Python的特点
2025-06-14 16:33:10 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 13
2025-06-14 16:33:10 | INFO     | src.dify_client:chat_completion_streaming:226 - 收到首个数据块，耗时0.00秒
2025-06-14 16:33:14 | WARNING  | src.wechat_official:handle_webhook:388 - 4.5秒截断触发
2025-06-14 16:33:14 | INFO     | src.wechat_official:handle_webhook:401 - 准备返回回复，长度: 262
2025-06-14 16:33:14 | INFO     | src.wechat_official:handle_webhook:402 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_medium_final]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749889994</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[哎呀，我的大脑有点卡顿了 🤔 可能是在思考太深奥的问题！要不换个简单点的问题试试？😊]]></Content>
</xml>
2025-06-14 16:33:14 | INFO     | src.wechat_official:handle_webhook:418 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_medium_final]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749889994</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[哎呀，我的大脑有点卡顿了 🤔 可能是在思考太深奥的问题！要不换个简单点的问题试试？😊]]></Content>
</xml>
2025-06-14 16:33:20 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:33:20 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:33:20 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_very_simple
2025-06-14 16:33:20 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.5秒
2025-06-14 16:33:20 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_very_simple
2025-06-14 16:33:20 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 谢谢
2025-06-14 16:33:20 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 16:33:25 | WARNING  | src.wechat_official:handle_webhook:388 - 4.5秒截断触发
2025-06-14 16:33:25 | INFO     | src.wechat_official:handle_webhook:401 - 准备返回回复，长度: 261
2025-06-14 16:33:25 | INFO     | src.wechat_official:handle_webhook:402 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_very_simple]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749890005</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[哎呀，我的大脑有点卡顿了 🤔 可能是在思考太深奥的问题！要不换个简单点的问题试试？😊]]></Content>
</xml>
2025-06-14 16:33:25 | INFO     | src.wechat_official:handle_webhook:418 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_very_simple]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749890005</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[哎呀，我的大脑有点卡顿了 🤔 可能是在思考太深奥的问题！要不换个简单点的问题试试？😊]]></Content>
</xml>
2025-06-14 16:36:21 | INFO     | __main__:main:50 - 🚀 启动Dify微信生态接入服务
2025-06-14 16:36:21 | INFO     | src.app:create_app:134 - FastAPI应用创建成功
2025-06-14 16:36:21 | INFO     | __main__:main:61 - 📡 服务启动在 http://0.0.0.0:8000
2025-06-14 16:36:36 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:36:36 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:36:36 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_partial_simple
2025-06-14 16:36:36 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 2, 超时设置: 4.5秒
2025-06-14 16:36:36 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_partial_simple
2025-06-14 16:36:36 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 你好
2025-06-14 16:36:36 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 2
2025-06-14 16:36:37 | INFO     | src.dify_client:chat_completion_streaming:243 - 收到首个数据块，耗时0.00秒
2025-06-14 16:36:38 | INFO     | src.dify_client:chat_completion_streaming:264 - Dify API流式调用成功，用户: test_partial_simple
2025-06-14 16:36:38 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: test_partial_simple, 回复: 你好！很高兴和你聊天。有什么我可以帮助你的吗？ 你想聊些什么呢？ 😊
...
2025-06-14 16:36:38 | INFO     | src.wechat_official:handle_webhook:408 - 准备返回回复，长度: 257
2025-06-14 16:36:38 | INFO     | src.wechat_official:handle_webhook:409 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_partial_simple]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749890198</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！很高兴和你聊天。有什么我可以帮助你的吗？ 你想聊些什么呢？ 😊
]]></Content>
</xml>
2025-06-14 16:36:38 | INFO     | src.wechat_official:handle_webhook:425 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_partial_simple]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749890198</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[你好！很高兴和你聊天。有什么我可以帮助你的吗？ 你想聊些什么呢？ 😊
]]></Content>
</xml>
2025-06-14 16:36:46 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:36:46 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:36:46 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_partial_complex
2025-06-14 16:36:46 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 57, 超时设置: 4.5秒
2025-06-14 16:36:46 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_partial_complex
2025-06-14 16:36:46 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 请详细分析人工智能在医疗、教育、金融、交通、制造业等各个行业的应用现状、技术挑战、发展趋势以及对社会经济的深远影响
2025-06-14 16:36:46 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 57
2025-06-14 16:36:47 | INFO     | src.dify_client:chat_completion_streaming:243 - 收到首个数据块，耗时0.00秒
2025-06-14 16:36:51 | INFO     | src.dify_client:chat_completion_streaming:253 - 流式处理被取消，返回部分内容，用户: test_partial_complex
2025-06-14 16:36:51 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: test_partial_complex, 回复: 好的，我们来详细分析人工智能（AI）在医疗、教育、金融、交通、制造业等行业应用现状、技术挑战、发展趋...
2025-06-14 16:36:51 | INFO     | src.wechat_official:handle_webhook:408 - 准备返回回复，长度: 448
2025-06-14 16:36:51 | INFO     | src.wechat_official:handle_webhook:409 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_partial_complex]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749890211</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[好的，我们来详细分析人工智能（AI）在医疗、教育、金融、交通、制造业等行业应用现状、技术挑战、发展趋势以及对社会经济的深远影响。

**一、各行业应用现状**

1. **医疗行业**
   * **现状：** AI在医疗领域的应用已经相当成熟，主要体现在以下几个方面：
      * **诊断辅助：** 利用AI算法分析医学影像（如X光、CT、MRI）、病理切片、基因数据等，辅助医生进行疾病诊断，提高诊断准确率和效率。例如，AI在肺癌、眼底疾病]]></Content>
</xml>
2025-06-14 16:36:51 | INFO     | src.wechat_official:handle_webhook:425 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_partial_complex]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749890211</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[好的，我们来详细分析人工智能（AI）在医疗、教育、金融、交通、制造业等行业应用现状、技术挑战、发展趋势以及对社会经济的深远影响。

**一、各行业应用现状**

1. **医疗行业**
   * **现状：** AI在医疗领域的应用已经相当成熟，主要体现在以下几个方面：
      * **诊断辅助：** 利用AI算法分析医学影像（如X光、CT、MRI）、病理切片、基因数据等，辅助医生进行疾病诊断，提高诊断准确率和效率。例如，AI在肺癌、眼底疾病]]></Content>
</xml>
2025-06-14 16:37:34 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:37:34 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:37:34 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:37:34 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 5, 超时设置: 4.5秒
2025-06-14 16:37:34 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:37:34 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 鲁迅是谁？
2025-06-14 16:37:34 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 5
2025-06-14 16:37:35 | INFO     | src.dify_client:chat_completion_streaming:243 - 收到首个数据块，耗时0.00秒
2025-06-14 16:37:39 | INFO     | src.dify_client:chat_completion_streaming:253 - 流式处理被取消，返回部分内容，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:37:39 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 鲁迅（1881年9月25日－1936年10月19日），原名周树人，字豫才，浙江绍兴人，是中国现代文学...
2025-06-14 16:37:39 | INFO     | src.wechat_official:handle_webhook:408 - 准备返回回复，长度: 413
2025-06-14 16:37:39 | INFO     | src.wechat_official:handle_webhook:409 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749890259</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[鲁迅（1881年9月25日－1936年10月19日），原名周树人，字豫才，浙江绍兴人，是中国现代文学的奠基人之一，被誉为“民族魂”。

以下是关于鲁迅的一些关键信息：

**1. 思想与文学创作：**

* **深刻的批判精神：** 鲁迅的作品以其深刻的批判精神著称，他以笔为武器，痛斥封建制度、旧道德、国民劣根性，以及社会的不公和黑暗。
* **]]></Content>
</xml>
2025-06-14 16:37:39 | INFO     | src.wechat_official:handle_webhook:425 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749890259</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[鲁迅（1881年9月25日－1936年10月19日），原名周树人，字豫才，浙江绍兴人，是中国现代文学的奠基人之一，被誉为“民族魂”。

以下是关于鲁迅的一些关键信息：

**1. 思想与文学创作：**

* **深刻的批判精神：** 鲁迅的作品以其深刻的批判精神著称，他以笔为武器，痛斥封建制度、旧道德、国民劣根性，以及社会的不公和黑暗。
* **]]></Content>
</xml>
2025-06-14 16:37:55 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:37:55 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:37:55 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from test_partial_medium
2025-06-14 16:37:55 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 13, 超时设置: 4.5秒
2025-06-14 16:37:55 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: test_partial_medium
2025-06-14 16:37:55 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 介绍一下Python的特点
2025-06-14 16:37:55 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 13
2025-06-14 16:37:55 | INFO     | src.dify_client:chat_completion_streaming:243 - 收到首个数据块，耗时0.00秒
2025-06-14 16:37:59 | INFO     | src.dify_client:chat_completion_streaming:253 - 流式处理被取消，返回部分内容，用户: test_partial_medium
2025-06-14 16:37:59 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: test_partial_medium, 回复: Python 是一种非常流行的编程语言，它具有许多吸引人的特点，使其成为初学者和经验丰富的开发者都喜...
2025-06-14 16:37:59 | INFO     | src.wechat_official:handle_webhook:408 - 准备返回回复，长度: 404
2025-06-14 16:37:59 | INFO     | src.wechat_official:handle_webhook:409 - 回复XML内容: <xml>
<ToUserName><![CDATA[test_partial_medium]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749890279</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Python 是一种非常流行的编程语言，它具有许多吸引人的特点，使其成为初学者和经验丰富的开发者都喜爱的选择。以下是一些 Python 的主要特点：

**1. 易于学习和阅读:**

* **语法简洁明了:** Python 的语法设计非常接近自然语言，使用缩进来表示代码块，而不是像 C++ 或 Java 那样使用大括号，这使得代码更易于阅读和理解。
* **]]></Content>
</xml>
2025-06-14 16:37:59 | INFO     | src.wechat_official:handle_webhook:425 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[test_partial_medium]]></ToUserName>
<FromUserName><![CDATA[gh_test]]></FromUserName>
<CreateTime>1749890279</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[Python 是一种非常流行的编程语言，它具有许多吸引人的特点，使其成为初学者和经验丰富的开发者都喜爱的选择。以下是一些 Python 的主要特点：

**1. 易于学习和阅读:**

* **语法简洁明了:** Python 的语法设计非常接近自然语言，使用缩进来表示代码块，而不是像 C++ 或 Java 那样使用大括号，这使得代码更易于阅读和理解。
* **]]></Content>
</xml>
2025-06-14 16:38:06 | INFO     | src.wechat_official:handle_webhook:324 - 收到POST请求，加密类型: 
2025-06-14 16:38:06 | INFO     | src.wechat_official:handle_webhook:345 - 明文模式消息，跳过签名验证
2025-06-14 16:38:06 | INFO     | src.wechat_official:handle_webhook:354 - 收到微信消息: text from oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:38:06 | INFO     | src.wechat_official:handle_webhook:379 - 消息长度: 11, 超时设置: 4.5秒
2025-06-14 16:38:06 | INFO     | src.wechat_official:handle_message:228 - 处理消息类型: text, 来自: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:38:06 | INFO     | src.wechat_official:handle_message:244 - 收到消息内容: 介绍LangGraph
2025-06-14 16:38:06 | INFO     | src.wechat_official:handle_message:260 - 使用流式模式处理消息，长度: 11
2025-06-14 16:38:06 | INFO     | src.dify_client:chat_completion_streaming:243 - 收到首个数据块，耗时0.00秒
2025-06-14 16:38:10 | INFO     | src.dify_client:chat_completion_streaming:253 - 流式处理被取消，返回部分内容，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU
2025-06-14 16:38:10 | INFO     | src.wechat_official:handle_message:283 - 公众号消息处理完成，用户: oeMLOwjcEuAyyiUhf4QJR8Nr-AmU, 回复: 好的，我来为你详细介绍一下 LangGraph。

**LangGraph 是什么？**

Lang...
2025-06-14 16:38:10 | INFO     | src.wechat_official:handle_webhook:408 - 准备返回回复，长度: 354
2025-06-14 16:38:10 | INFO     | src.wechat_official:handle_webhook:409 - 回复XML内容: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749890290</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[好的，我来为你详细介绍一下 LangGraph。

**LangGraph 是什么？**

LangGraph 是一个由斯坦福大学开发的开源框架，旨在加速大型语言模型（LLM）的开发、训练和推理。它通过将语言模型和知识图谱结合起来]]></Content>
</xml>
2025-06-14 16:38:10 | INFO     | src.wechat_official:handle_webhook:425 - 最终返回明文响应: <xml>
<ToUserName><![CDATA[oeMLOwjcEuAyyiUhf4QJR8Nr-AmU]]></ToUserName>
<FromUserName><![CDATA[gh_581b6239f6e9]]></FromUserName>
<CreateTime>1749890290</CreateTime>
<MsgType><![CDATA[text]]></MsgType>
<Content><![CDATA[好的，我来为你详细介绍一下 LangGraph。

**LangGraph 是什么？**

LangGraph 是一个由斯坦福大学开发的开源框架，旨在加速大型语言模型（LLM）的开发、训练和推理。它通过将语言模型和知识图谱结合起来]]></Content>
</xml>
